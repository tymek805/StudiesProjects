{"ast":null,"code":"import { defineComponent, computed, createBlock, openBlock, unref, withCtx, renderSlot, createVNode, Transition, mergeProps, createCommentVNode, resolveDynamicComponent, normalizeStyle, normalizeClass, createElementVNode, normalizeProps, guardReactiveProps } from \"vue\";\nimport { u as useDefaults } from \"./useDefaults-DANje4tM.mjs\";\nimport { _ as _sfc_main$2 } from \"./BSpinner.vue_vue_type_script_setup_true_lang-CP3yvZKE.mjs\";\nimport { _ as _sfc_main$1 } from \"./ConditionalWrapper.vue_vue_type_script_lang-CUX3HBqw.mjs\";\nimport { u as useRadiusElementClasses } from \"./useRadiusElementClasses-DtKYQuWz.mjs\";\nimport { u as useColorVariantClasses } from \"./useColorVariantClasses-ZDE19TZw.mjs\";\nimport { u as useFadeTransition } from \"./useTransitions-BJccF5e-.mjs\";\nconst _sfc_main = /* @__PURE__ */defineComponent({\n  __name: \"BOverlay\",\n  props: {\n    bgColor: {\n      default: void 0\n    },\n    blur: {\n      default: \"2px\"\n    },\n    fixed: {\n      type: Boolean,\n      default: false\n    },\n    noCenter: {\n      type: Boolean,\n      default: false\n    },\n    noFade: {\n      type: Boolean,\n      default: false\n    },\n    noSpinner: {\n      type: Boolean,\n      default: false\n    },\n    noWrap: {\n      type: Boolean,\n      default: false\n    },\n    opacity: {\n      default: 0.85\n    },\n    overlayTag: {\n      default: \"div\"\n    },\n    show: {\n      type: Boolean,\n      default: false\n    },\n    spinnerSmall: {\n      type: Boolean,\n      default: false\n    },\n    spinnerType: {\n      default: \"border\"\n    },\n    spinnerVariant: {\n      default: void 0\n    },\n    variant: {\n      default: \"light\"\n    },\n    wrapTag: {\n      default: \"div\"\n    },\n    zIndex: {\n      default: 10\n    },\n    rounded: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    roundedTop: {\n      type: [Boolean, String, Number],\n      default: void 0\n    },\n    roundedBottom: {\n      type: [Boolean, String, Number],\n      default: void 0\n    },\n    roundedStart: {\n      type: [Boolean, String, Number],\n      default: void 0\n    },\n    roundedEnd: {\n      type: [Boolean, String, Number],\n      default: void 0\n    }\n  },\n  emits: [\"click\", \"hidden\", \"shown\"],\n  setup(__props, {\n    emit: __emit\n  }) {\n    const _props = __props;\n    const props = useDefaults(_props, \"BOverlay\");\n    const emit = __emit;\n    const positionStyles = {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0\n    };\n    const fadeTransitions = useFadeTransition(() => !props.noFade);\n    const radiusElementClasses = useRadiusElementClasses(() => ({\n      rounded: props.rounded,\n      roundedTop: props.roundedTop,\n      roundedBottom: props.roundedBottom,\n      roundedStart: props.roundedStart,\n      roundedEnd: props.roundedEnd\n    }));\n    const computedAriaBusy = computed(() => props.show ? true : null);\n    const spinnerAttrs = computed(() => ({\n      type: props.spinnerType,\n      variant: props.spinnerVariant,\n      small: props.spinnerSmall\n    }));\n    const overlayStyles = computed(() => ({\n      ...positionStyles,\n      zIndex: props.zIndex || 10\n    }));\n    const overlayClasses = computed(() => ({\n      \"position-absolute\": !props.noWrap || !props.fixed,\n      \"position-fixed\": props.noWrap && props.fixed\n    }));\n    const colorClasses = useColorVariantClasses(computed(() => ({\n      bgVariant: props.variant !== null && !props.bgColor ? props.variant : null\n    })));\n    const blurClasses = computed(() => [colorClasses.value, radiusElementClasses.value]);\n    const blurStyles = computed(() => ({\n      ...positionStyles,\n      opacity: props.opacity,\n      backgroundColor: props.bgColor || void 0,\n      backdropFilter: props.blur ? `blur(${props.blur})` : void 0\n    }));\n    const spinWrapperStyles = computed(() => props.noCenter ? positionStyles : {\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translateX(-50%) translateY(-50%)\"\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$1, {\n        tag: unref(props).wrapTag,\n        class: \"b-overlay-wrap position-relative\",\n        \"aria-busy\": computedAriaBusy.value,\n        skip: unref(props).noWrap\n      }, {\n        default: withCtx(() => [renderSlot(_ctx.$slots, \"default\"), createVNode(Transition, mergeProps(unref(fadeTransitions), {\n          \"enter-to-class\": \"show\",\n          name: \"fade\",\n          onAfterEnter: _cache[1] || (_cache[1] = $event => emit(\"shown\")),\n          onAfterLeave: _cache[2] || (_cache[2] = $event => emit(\"hidden\"))\n        }), {\n          default: withCtx(() => [unref(props).show ? (openBlock(), createBlock(resolveDynamicComponent(unref(props).overlayTag), {\n            key: 0,\n            class: normalizeClass([\"b-overlay\", overlayClasses.value]),\n            style: normalizeStyle(overlayStyles.value),\n            onClick: _cache[0] || (_cache[0] = $event => emit(\"click\", $event))\n          }, {\n            default: withCtx(() => [createElementVNode(\"div\", {\n              class: normalizeClass([\"position-absolute\", blurClasses.value]),\n              style: normalizeStyle(blurStyles.value)\n            }, null, 6), createElementVNode(\"div\", {\n              class: \"position-absolute\",\n              style: normalizeStyle(spinWrapperStyles.value)\n            }, [renderSlot(_ctx.$slots, \"overlay\", normalizeProps(guardReactiveProps(spinnerAttrs.value)), () => [!unref(props).noSpinner ? (openBlock(), createBlock(_sfc_main$2, normalizeProps(mergeProps({\n              key: 0\n            }, spinnerAttrs.value)), null, 16)) : createCommentVNode(\"\", true)])], 4)]),\n            _: 3\n          }, 8, [\"class\", \"style\"])) : createCommentVNode(\"\", true)]),\n          _: 3\n        }, 16)]),\n        _: 3\n      }, 8, [\"tag\", \"aria-busy\", \"skip\"]);\n    };\n  }\n});\nexport { _sfc_main as _ };","map":{"version":3,"names":["_props","__props","props","useDefaults","emit","__emit","positionStyles","top","left","bottom","right","fadeTransitions","useFadeTransition","noFade","radiusElementClasses","useRadiusElementClasses","rounded","roundedTop","roundedBottom","roundedStart","roundedEnd","computedAriaBusy","computed","show","spinnerAttrs","type","spinnerType","variant","spinnerVariant","small","spinnerSmall","overlayStyles","zIndex","overlayClasses","noWrap","fixed","colorClasses","useColorVariantClasses","bgVariant","bgColor","blurClasses","value","blurStyles","opacity","backgroundColor","backdropFilter","blur","spinWrapperStyles","noCenter","transform"],"sources":["../src/components/BOverlay/BOverlay.vue"],"sourcesContent":["<template>\n  <ConditionalWrapper\n    :tag=\"props.wrapTag\"\n    class=\"b-overlay-wrap position-relative\"\n    :aria-busy=\"computedAriaBusy\"\n    :skip=\"props.noWrap\"\n  >\n    <slot />\n    <Transition\n      v-bind=\"fadeTransitions\"\n      enter-to-class=\"show\"\n      name=\"fade\"\n      @after-enter=\"emit('shown')\"\n      @after-leave=\"emit('hidden')\"\n    >\n      <component\n        :is=\"props.overlayTag\"\n        v-if=\"props.show\"\n        class=\"b-overlay\"\n        :class=\"overlayClasses\"\n        :style=\"overlayStyles\"\n        @click=\"emit('click', $event)\"\n      >\n        <div class=\"position-absolute\" :class=\"blurClasses\" :style=\"blurStyles\" />\n\n        <div class=\"position-absolute\" :style=\"spinWrapperStyles\">\n          <slot name=\"overlay\" v-bind=\"spinnerAttrs\">\n            <BSpinner v-if=\"!props.noSpinner\" v-bind=\"spinnerAttrs\" />\n          </slot>\n        </div>\n      </component>\n    </Transition>\n  </ConditionalWrapper>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed} from 'vue'\nimport type {BOverlayProps} from '../../types/ComponentProps'\nimport {useDefaults} from '../../composables/useDefaults'\nimport BSpinner from '../BSpinner/BSpinner.vue'\nimport ConditionalWrapper from '../ConditionalWrapper.vue'\nimport {useRadiusElementClasses} from '../../composables/useRadiusElementClasses'\nimport {useColorVariantClasses} from '../../composables/useColorVariantClasses'\nimport type {BgColorVariant} from '../../types/ColorTypes'\nimport {useFadeTransition} from '../../composables/useTransitions'\n\nconst _props = withDefaults(defineProps<BOverlayProps>(), {\n  blur: '2px',\n  bgColor: undefined,\n  fixed: false,\n  noCenter: false,\n  noFade: false,\n  noSpinner: false,\n  noWrap: false,\n  opacity: 0.85,\n  overlayTag: 'div',\n  show: false,\n  spinnerSmall: false,\n  spinnerType: 'border',\n  spinnerVariant: undefined,\n  variant: 'light',\n  wrapTag: 'div',\n  zIndex: 10,\n  // RadiusElementExtendables props\n  rounded: false,\n  roundedBottom: undefined,\n  roundedEnd: undefined,\n  roundedStart: undefined,\n  roundedTop: undefined,\n  // End RadiusElementExtendables props\n})\nconst props = useDefaults(_props, 'BOverlay')\n\nconst emit = defineEmits<{\n  click: [value: MouseEvent]\n  hidden: []\n  shown: []\n}>()\n\ndefineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  default?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  overlay?: (props: typeof spinnerAttrs.value) => any\n}>()\n\nconst positionStyles = {top: 0, left: 0, bottom: 0, right: 0} as const\n\nconst fadeTransitions = useFadeTransition(() => !props.noFade)\n\nconst radiusElementClasses = useRadiusElementClasses(() => ({\n  rounded: props.rounded,\n  roundedTop: props.roundedTop,\n  roundedBottom: props.roundedBottom,\n  roundedStart: props.roundedStart,\n  roundedEnd: props.roundedEnd,\n}))\n\nconst computedAriaBusy = computed(() => (props.show ? true : null))\n\nconst spinnerAttrs = computed(() => ({\n  type: props.spinnerType,\n  variant: props.spinnerVariant,\n  small: props.spinnerSmall,\n}))\n\nconst overlayStyles = computed(() => ({\n  ...positionStyles,\n  zIndex: props.zIndex || 10,\n}))\n\nconst overlayClasses = computed(() => ({\n  'position-absolute': !props.noWrap || !props.fixed,\n  'position-fixed': props.noWrap && props.fixed,\n}))\n\nconst colorClasses = useColorVariantClasses(\n  computed(() => ({\n    bgVariant: props.variant !== null && !props.bgColor ? (props.variant as BgColorVariant) : null,\n  }))\n)\nconst blurClasses = computed(() => [colorClasses.value, radiusElementClasses.value])\n\nconst blurStyles = computed(() => ({\n  ...positionStyles,\n  opacity: props.opacity,\n  backgroundColor: props.bgColor || undefined,\n  backdropFilter: props.blur ? `blur(${props.blur})` : undefined,\n}))\n\nconst spinWrapperStyles = computed(() =>\n  props.noCenter\n    ? positionStyles\n    : {\n        top: '50%',\n        left: '50%',\n        transform: 'translateX(-50%) translateY(-50%)',\n      }\n)\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA8CA,MAAMA,MAAA,GAASC,OAAA;IAyBT,MAAAC,KAAA,GAAQC,WAAA,CAAYH,MAAA,EAAQ,UAAU;IAE5C,MAAMI,IAAA,GAAOC,MAAA;IAaP,MAAAC,cAAA,GAAiB;MAACC,GAAA,EAAK;MAAGC,IAAA,EAAM;MAAGC,MAAA,EAAQ;MAAGC,KAAA,EAAO;IAAC;IAE5D,MAAMC,eAAA,GAAkBC,iBAAA,CAAkB,MAAM,CAACV,KAAA,CAAMW,MAAM;IAEvD,MAAAC,oBAAA,GAAuBC,uBAAA,CAAwB,OAAO;MAC1DC,OAAA,EAASd,KAAA,CAAMc,OAAA;MACfC,UAAA,EAAYf,KAAA,CAAMe,UAAA;MAClBC,aAAA,EAAehB,KAAA,CAAMgB,aAAA;MACrBC,YAAA,EAAcjB,KAAA,CAAMiB,YAAA;MACpBC,UAAA,EAAYlB,KAAA,CAAMkB;IAAA,EAClB;IAEF,MAAMC,gBAAA,GAAmBC,QAAA,CAAS,MAAOpB,KAAA,CAAMqB,IAAA,GAAO,OAAO,IAAK;IAE5D,MAAAC,YAAA,GAAeF,QAAA,CAAS,OAAO;MACnCG,IAAA,EAAMvB,KAAA,CAAMwB,WAAA;MACZC,OAAA,EAASzB,KAAA,CAAM0B,cAAA;MACfC,KAAA,EAAO3B,KAAA,CAAM4B;IAAA,EACb;IAEI,MAAAC,aAAA,GAAgBT,QAAA,CAAS,OAAO;MACpC,GAAGhB,cAAA;MACH0B,MAAA,EAAQ9B,KAAA,CAAM8B,MAAA,IAAU;IAAA,EACxB;IAEI,MAAAC,cAAA,GAAiBX,QAAA,CAAS,OAAO;MACrC,qBAAqB,CAACpB,KAAA,CAAMgC,MAAA,IAAU,CAAChC,KAAA,CAAMiC,KAAA;MAC7C,kBAAkBjC,KAAA,CAAMgC,MAAA,IAAUhC,KAAA,CAAMiC;IAAA,EACxC;IAEF,MAAMC,YAAA,GAAeC,sBAAA,CACnBf,QAAA,CAAS,OAAO;MACdgB,SAAA,EAAWpC,KAAA,CAAMyB,OAAA,KAAY,QAAQ,CAACzB,KAAA,CAAMqC,OAAA,GAAWrC,KAAA,CAAMyB,OAAA,GAA6B;IAAA,EAC1F,CACJ;IACM,MAAAa,WAAA,GAAclB,QAAA,CAAS,MAAM,CAACc,YAAA,CAAaK,KAAA,EAAO3B,oBAAA,CAAqB2B,KAAK,CAAC;IAE7E,MAAAC,UAAA,GAAapB,QAAA,CAAS,OAAO;MACjC,GAAGhB,cAAA;MACHqC,OAAA,EAASzC,KAAA,CAAMyC,OAAA;MACfC,eAAA,EAAiB1C,KAAA,CAAMqC,OAAA,IAAW;MAClCM,cAAA,EAAgB3C,KAAA,CAAM4C,IAAA,GAAO,QAAQ5C,KAAA,CAAM4C,IAAI,MAAM;IAAA,EACrD;IAEF,MAAMC,iBAAA,GAAoBzB,QAAA,CAAS,MACjCpB,KAAA,CAAM8C,QAAA,GACF1C,cAAA,GACA;MACEC,GAAA,EAAK;MACLC,IAAA,EAAM;MACNyC,SAAA,EAAW;IAAA,CAEnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}