{"ast":null,"code":"import { getCurrentInstance, computed, toValue } from \"vue\";\nimport { u as useSharedModalStack } from \"../../../useModalManager-tL74pLur.mjs\";\nconst useModal = (id = void 0) => {\n  const {\n    registry\n  } = useSharedModalStack();\n  const instance = getCurrentInstance();\n  const findBModal = component => {\n    if (!component.parent) {\n      return null;\n    }\n    if (component.parent.type.__name === \"BModal\") {\n      return component.parent;\n    }\n    return findBModal(component.parent);\n  };\n  const modalComponent = computed(() => {\n    var _a;\n    const resolvedId = toValue(id);\n    if (resolvedId) {\n      if (!registry) return null;\n      for (const [, modal2] of registry.value) {\n        if (toValue((_a = modal2 == null ? void 0 : modal2.exposed) == null ? void 0 : _a.id) === resolvedId) {\n          return modal2;\n        }\n      }\n      return null;\n    }\n    if (!instance) {\n      return null;\n    }\n    return findBModal(instance);\n  });\n  const modal = computed(() => {\n    var _a;\n    return (_a = modalComponent.value) == null ? void 0 : _a.proxy;\n  });\n  return {\n    show() {\n      var _a, _b;\n      (_b = (_a = modalComponent.value) == null ? void 0 : _a.exposed) == null ? void 0 : _b.show();\n    },\n    hide(trigger = \"\") {\n      var _a, _b;\n      (_b = (_a = modalComponent.value) == null ? void 0 : _a.exposed) == null ? void 0 : _b.hide(trigger);\n    },\n    modal\n  };\n};\nexport { useModal };","map":{"version":3,"names":["useModal","id","registry","useSharedModalStack","instance","getCurrentInstance","findBModal","component","parent","type","__name","modalComponent","computed","resolvedId","toValue","modal2","value","_a","exposed","modal","proxy","show","_b","hide","trigger"],"sources":["../../../../src/composables/useModal/index.ts"],"sourcesContent":["import {\n  type ComponentInternalInstance,\n  computed,\n  getCurrentInstance,\n  type MaybeRefOrGetter,\n  toValue,\n} from 'vue'\nimport {useSharedModalStack} from '../useModalManager'\n\nexport const useModal = (id: MaybeRefOrGetter<string | undefined> = undefined) => {\n  const {registry} = useSharedModalStack()\n  const instance = getCurrentInstance()\n\n  const findBModal = (component: ComponentInternalInstance): ComponentInternalInstance | null => {\n    if (!component.parent) {\n      return null\n    }\n\n    if (component.parent.type.__name === 'BModal') {\n      return component.parent\n    }\n\n    return findBModal(component.parent)\n  }\n\n  const modalComponent = computed(() => {\n    const resolvedId = toValue(id)\n\n    if (resolvedId) {\n      if (!registry) return null\n      for (const [, modal] of registry.value) {\n        if (toValue(modal?.exposed?.id) === resolvedId) {\n          return modal\n        }\n      }\n\n      return null\n    }\n\n    if (!instance) {\n      return null\n    }\n\n    return findBModal(instance)\n  })\n\n  const modal = computed(() => modalComponent.value?.proxy)\n\n  return {\n    show() {\n      modalComponent.value?.exposed?.show()\n    },\n    hide(trigger = '') {\n      modalComponent.value?.exposed?.hide(trigger)\n    },\n    modal,\n  }\n}\n"],"mappings":";;AASa,MAAAA,QAAA,GAAWA,CAACC,EAAA,GAA2C,WAAc;EAC1E;IAACC;EAAQ,IAAIC,mBAAA,CAAoB;EACvC,MAAMC,QAAA,GAAWC,kBAAA,CAAmB;EAE9B,MAAAC,UAAA,GAAcC,SAAA,IAA2E;IACzF,KAACA,SAAA,CAAUC,MAAA,EAAQ;MACd;IAAA;IAGT,IAAID,SAAA,CAAUC,MAAA,CAAOC,IAAA,CAAKC,MAAA,KAAW,UAAU;MAC7C,OAAOH,SAAA,CAAUC,MAAA;IAAA;IAGZ,OAAAF,UAAA,CAAWC,SAAA,CAAUC,MAAM;EACpC;EAEM,MAAAG,cAAA,GAAiBC,QAAA,CAAS,MAAM;;IAC9B,MAAAC,UAAA,GAAaC,OAAA,CAAQb,EAAE;IAE7B,IAAIY,UAAA,EAAY;MACV,KAACX,QAAA,EAAiB;MACtB,WAAW,GAAGa,MAAK,KAAKb,QAAA,CAASc,KAAA,EAAO;QACtC,IAAIF,OAAA,EAAQG,EAAA,GAAAF,MAAA,oBAAAA,MAAA,CAAOG,OAAA,KAAP,gBAAAD,EAAA,CAAgBhB,EAAE,MAAMY,UAAA,EAAY;UACvC,OAAAE,MAAA;QAAA;MACT;MAGK;IAAA;IAGT,IAAI,CAACX,QAAA,EAAU;MACN;IAAA;IAGT,OAAOE,UAAA,CAAWF,QAAQ;EAAA,CAC3B;EAED,MAAMe,KAAA,GAAQP,QAAA,CAAS,MAAM;;IAAA,QAAAK,EAAA,GAAAN,cAAA,CAAeK,KAAA,KAAf,gBAAAC,EAAA,CAAsBG,KAAA;EAAA,CAAK;EAEjD;IACLC,KAAA,EAAO;;MACU,CAAAC,EAAA,IAAAL,EAAA,GAAAN,cAAA,CAAAK,KAAA,qBAAAC,EAAA,CAAOC,OAAA,KAAP,gBAAAI,EAAA,CAAgBD,IAAA;IACjC;IACAE,KAAKC,OAAA,GAAU,IAAI;;MACF,CAAAF,EAAA,IAAAL,EAAA,GAAAN,cAAA,CAAAK,KAAA,qBAAAC,EAAA,CAAOC,OAAA,KAAP,gBAAAI,EAAA,CAAgBC,IAAA,CAAKC,OAAA;IACtC;IACAL;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}