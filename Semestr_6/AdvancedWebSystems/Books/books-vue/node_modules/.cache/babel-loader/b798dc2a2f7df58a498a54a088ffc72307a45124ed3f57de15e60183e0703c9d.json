{"ast":null,"code":"import \"vue\";\nimport { useScrollspy } from \"../../composables/useScrollspy/index.mjs\";\nimport { o as omit } from \"../../../object-BWoyyA2y.mjs\";\nconst bind = (el, binding) => {\n  if (el.$__scrollspy) el.$__scrollspy.cleanup();\n  const {\n    arg,\n    value\n  } = binding;\n  const isObject = typeof value === \"object\" && value !== null;\n  const content = arg ? arg : typeof value === \"string\" ? value : isObject ? value.content || value.element : null;\n  el.$__scrollspy = useScrollspy(content, el, isObject ? omit(value, [\"content\", \"element\"]) : {});\n};\nconst vBScrollspy = {\n  mounted: bind,\n  updated: bind,\n  beforeUnmount(el) {\n    if (el.$__scrollspy) el.$__scrollspy.cleanup();\n  }\n};\nexport { vBScrollspy };","map":{"version":3,"names":["bind","el","binding","$__scrollspy","cleanup","arg","value","isObject","content","element","useScrollspy","omit","vBScrollspy","mounted","updated","beforeUnmount"],"sources":["../../../../src/directives/BScrollspy/index.ts"],"sourcesContent":["import {type Directive, type DirectiveBinding} from 'vue'\nimport {useScrollspy} from '../../composables/useScrollspy'\nimport {omit} from '../../utils/object'\n\nexport interface ElementWithScrollspy extends HTMLElement {\n  $__scrollspy?: ReturnType<typeof useScrollspy>\n}\n\nconst bind = (el: ElementWithScrollspy, binding: Readonly<DirectiveBinding>) => {\n  if (el.$__scrollspy) el.$__scrollspy.cleanup()\n  const {arg, value} = binding\n  const isObject = typeof value === 'object' && value !== null\n  const content = arg\n    ? arg\n    : typeof value === 'string'\n      ? value\n      : isObject\n        ? value.content || value.element\n        : null\n  el.$__scrollspy = useScrollspy(content, el, isObject ? omit(value, ['content', 'element']) : {})\n}\n\nexport const vBScrollspy: Directive<ElementWithScrollspy> = {\n  mounted: bind,\n  updated: bind,\n  beforeUnmount(el) {\n    if (el.$__scrollspy) el.$__scrollspy.cleanup()\n  },\n}\n"],"mappings":";;;AAQA,MAAMA,IAAA,GAAOA,CAACC,EAAA,EAA0BC,OAAA,KAAwC;EAC9E,IAAID,EAAA,CAAGE,YAAA,EAAiBF,EAAA,CAAAE,YAAA,CAAaC,OAAA,CAAQ;EACvC;IAACC,GAAA;IAAKC;EAAA,IAASJ,OAAA;EACrB,MAAMK,QAAA,GAAW,OAAOD,KAAA,KAAU,YAAYA,KAAA,KAAU;EAClD,MAAAE,OAAA,GAAUH,GAAA,GACZA,GAAA,GACA,OAAOC,KAAA,KAAU,WACfA,KAAA,GACAC,QAAA,GACED,KAAA,CAAME,OAAA,IAAWF,KAAA,CAAMG,OAAA,GACvB;EACRR,EAAA,CAAGE,YAAA,GAAeO,YAAA,CAAaF,OAAA,EAASP,EAAA,EAAIM,QAAA,GAAWI,IAAA,CAAKL,KAAA,EAAO,CAAC,WAAW,SAAS,CAAC,IAAI,EAAE;AACjG;AAEO,MAAMM,WAAA,GAA+C;EAC1DC,OAAA,EAASb,IAAA;EACTc,OAAA,EAASd,IAAA;EACTe,cAAcd,EAAA,EAAI;IAChB,IAAIA,EAAA,CAAGE,YAAA,EAAiBF,EAAA,CAAAE,YAAA,CAAaC,OAAA,CAAQ;EAAA;AAEjD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}