{"ast":null,"code":"import { defineComponent, mergeModels, useSlots, useModel, useTemplateRef, ref, onMounted, computed, watch, createBlock, openBlock, unref, withCtx, createCommentVNode, renderSlot, Transition, mergeProps, withDirectives, createElementVNode, createElementBlock, Fragment, normalizeClass, normalizeProps, guardReactiveProps, createTextVNode, toDisplayString, vShow, nextTick } from \"vue\";\nimport { i as useBreakpoints, o as onKeyStroke, u as useFocus, j as breakpointsBootstrapV5 } from \"./index-cC189kCW.mjs\";\nimport { u as useSafeScrollLock, a as useActivatedFocusTrap } from \"./useSafeScrollLock-iJTRWqXi.mjs\";\nimport { u as useDefaults } from \"./useDefaults-DANje4tM.mjs\";\nimport { u as useId } from \"./useId-BzCLXIGF.mjs\";\nimport { _ as _sfc_main$2 } from \"./BButton.vue_vue_type_script_setup_true_lang-ByjfGDl1.mjs\";\nimport { _ as _sfc_main$3 } from \"./BCloseButton.vue_vue_type_script_setup_true_lang-Dh0Odbqa.mjs\";\nimport { _ as _sfc_main$1 } from \"./ConditionalTeleport.vue_vue_type_script_lang-2PJ2jBTg.mjs\";\nimport { i as isEmptySlot } from \"./dom-BK2w00Ec.mjs\";\nimport { u as useShowHide } from \"./useShowHide-DHtnuxfQ.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nconst _hoisted_1 = [\"id\", \"aria-labelledby\"];\nconst _hoisted_2 = [\"id\"];\nconst fallbackClassSelector = \"offcanvas-fallback-focus\";\nconst _sfc_main = /* @__PURE__ */defineComponent({\n  ...{\n    inheritAttrs: false\n  },\n  __name: \"BOffcanvas\",\n  props: /* @__PURE__ */mergeModels({\n    noBackdrop: {\n      type: Boolean,\n      default: false\n    },\n    backdropFirst: {\n      type: Boolean,\n      default: false\n    },\n    bodyAttrs: {\n      default: void 0\n    },\n    bodyClass: {\n      default: void 0\n    },\n    bodyScrolling: {\n      type: Boolean,\n      default: false\n    },\n    footerClass: {\n      default: void 0\n    },\n    headerClass: {\n      default: void 0\n    },\n    headerCloseClass: {\n      default: void 0\n    },\n    headerCloseLabel: {\n      default: \"Close\"\n    },\n    headerCloseVariant: {\n      default: \"secondary\"\n    },\n    id: {\n      default: void 0\n    },\n    noCloseOnBackdrop: {\n      type: Boolean,\n      default: false\n    },\n    noCloseOnEsc: {\n      type: Boolean,\n      default: false\n    },\n    noFocus: {\n      type: Boolean,\n      default: false\n    },\n    noHeader: {\n      type: Boolean,\n      default: false\n    },\n    noTrap: {\n      type: Boolean,\n      default: false\n    },\n    noHeaderClose: {\n      type: Boolean,\n      default: false\n    },\n    placement: {\n      default: \"start\"\n    },\n    shadow: {\n      type: [String, Boolean],\n      default: false\n    },\n    title: {\n      default: void 0\n    },\n    responsive: {},\n    width: {\n      default: void 0\n    },\n    teleportDisabled: {\n      type: Boolean,\n      default: false\n    },\n    teleportTo: {\n      default: \"body\"\n    },\n    initialAnimation: {\n      type: Boolean,\n      default: false\n    },\n    noAnimation: {\n      type: Boolean,\n      default: false\n    },\n    noFade: {\n      type: Boolean\n    },\n    lazy: {\n      type: Boolean,\n      default: false\n    },\n    unmountLazy: {\n      type: Boolean,\n      default: false\n    },\n    show: {\n      type: Boolean,\n      default: false\n    },\n    transProps: {},\n    visible: {\n      type: Boolean,\n      default: false\n    }\n  }, {\n    \"modelValue\": {\n      type: Boolean,\n      ...{\n        default: false\n      }\n    },\n    \"modelModifiers\": {}\n  }),\n  emits: /* @__PURE__ */mergeModels([\"close\", \"esc\", \"backdrop\", \"breakpoint\", \"hide\", \"hide-prevented\", \"hidden\", \"show\", \"show-prevented\", \"shown\", \"toggle\", \"toggle-prevented\"], [\"update:modelValue\"]),\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    const _props = __props;\n    const props = useDefaults(_props, \"BOffcanvas\");\n    const emit = __emit;\n    const slots = useSlots();\n    const modelValue = useModel(__props, \"modelValue\");\n    const computedId = useId(() => props.id, \"offcanvas\");\n    const element = useTemplateRef(\"_element\");\n    const fallbackFocusElement = useTemplateRef(\"_fallbackFocusElement\");\n    const onAfterEnter = () => {\n      nextTick(() => {\n        if (props.noFocus === false && !isOpenByBreakpoint.value) {\n          focused.value = true;\n        }\n      });\n    };\n    const {\n      showRef,\n      renderRef,\n      renderBackdropRef,\n      hide,\n      show,\n      toggle,\n      computedNoAnimation,\n      contentShowing,\n      transitionProps,\n      backdropReady,\n      backdropTransitionProps,\n      backdropVisible,\n      isVisible,\n      buildTriggerableEvent,\n      localNoAnimation,\n      isLeaving,\n      trapActive\n    } = useShowHide(modelValue, props, emit, element, computedId, {\n      transitionProps: {\n        onAfterEnter,\n        enterToClass: \"showing\",\n        leaveToClass: \"hiding\",\n        enterActiveClass: \"\",\n        leaveActiveClass: \"\",\n        enterFromClass: \"\",\n        leaveFromClass: \"\"\n      }\n    });\n    const breakpoints = useBreakpoints(breakpointsBootstrapV5);\n    const smallerOrEqualToBreakpoint = breakpoints.smallerOrEqual(() => props.responsive ?? \"xs\");\n    const isOpenByBreakpoint = ref(props.responsive !== void 0 && !smallerOrEqualToBreakpoint.value);\n    onMounted(() => {\n      if (props.responsive !== void 0) emit(\"breakpoint\", buildTriggerableEvent(\"breakpoint\"), isOpenByBreakpoint.value);\n    });\n    useSafeScrollLock(showRef, () => props.bodyScrolling || isOpenByBreakpoint.value);\n    onKeyStroke(\"Escape\", () => {\n      hide(\"esc\");\n    }, {\n      target: element\n    });\n    const {\n      focused\n    } = useFocus(element, {\n      initialValue: modelValue.value && props.noFocus === false && !isOpenByBreakpoint.value\n    });\n    const {\n      needsFallback\n    } = useActivatedFocusTrap({\n      element,\n      isActive: trapActive,\n      noTrap: () => props.noTrap || isOpenByBreakpoint.value,\n      fallbackFocus: {\n        classSelector: fallbackClassSelector,\n        ref: fallbackFocusElement\n      }\n    });\n    const showBackdrop = computed(() => (props.responsive === void 0 || !isOpenByBreakpoint.value) && props.noBackdrop === false && (showRef.value === true || isLeaving.value && props.backdropFirst && !computedNoAnimation.value));\n    const hasHeaderCloseSlot = computed(() => !isEmptySlot(slots[\"header-close\"]));\n    const headerCloseClasses = computed(() => [{\n      \"text-reset\": !hasHeaderCloseSlot.value\n    }, props.headerCloseClass]);\n    const headerCloseAttrs = computed(() => ({\n      variant: hasHeaderCloseSlot.value ? props.headerCloseVariant : void 0,\n      class: headerCloseClasses.value\n    }));\n    const hasFooterSlot = computed(() => !isEmptySlot(slots.footer));\n    const computedClasses = computed(() => [props.responsive === void 0 ? \"offcanvas\" : `offcanvas-${props.responsive}`, `offcanvas-${props.placement}`, {\n      \"show\": isVisible.value,\n      [`shadow-${props.shadow}`]: !!props.shadow,\n      \"no-transition\": computedNoAnimation.value\n    }]);\n    const computedStyles = computed(() => ({\n      width: props.width\n    }));\n    const sharedSlots = computed(() => ({\n      visible: showRef.value,\n      placement: props.placement,\n      hide\n    }));\n    watch(smallerOrEqualToBreakpoint, newValue => {\n      if (props.responsive === void 0) return;\n      if (newValue === true) {\n        const opened = false;\n        localNoAnimation.value = true;\n        requestAnimationFrame(() => {\n          isOpenByBreakpoint.value = opened;\n        });\n        emit(\"breakpoint\", buildTriggerableEvent(\"breakpoint\"), opened);\n        emit(\"hide\", buildTriggerableEvent(\"hide\"));\n      } else {\n        const opened = true;\n        localNoAnimation.value = true;\n        requestAnimationFrame(() => {\n          isOpenByBreakpoint.value = opened;\n        });\n        emit(\"breakpoint\", buildTriggerableEvent(\"breakpoint\"), opened);\n        emit(\"show\", buildTriggerableEvent(\"show\"));\n      }\n    });\n    __expose({\n      hide,\n      show,\n      toggle,\n      isOpenByBreakpoint\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$1, {\n        to: unref(props).teleportTo,\n        disabled: unref(props).teleportDisabled || isOpenByBreakpoint.value\n      }, {\n        default: withCtx(() => [unref(renderRef) || unref(contentShowing) || isOpenByBreakpoint.value ? (openBlock(), createBlock(Transition, mergeProps({\n          key: 0\n        }, unref(transitionProps), {\n          appear: modelValue.value || unref(props).visible\n        }), {\n          default: withCtx(() => [withDirectives(createElementVNode(\"div\", mergeProps({\n            id: unref(computedId),\n            ref: \"_element\",\n            \"aria-modal\": \"true\",\n            role: \"dialog\",\n            class: computedClasses.value,\n            style: computedStyles.value,\n            tabindex: \"-1\",\n            \"aria-labelledby\": `${unref(computedId)}-offcanvas-label`,\n            \"data-bs-backdrop\": \"false\"\n          }, _ctx.$attrs), [unref(contentShowing) || isOpenByBreakpoint.value ? (openBlock(), createElementBlock(Fragment, {\n            key: 0\n          }, [!unref(props).noHeader ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: normalizeClass([\"offcanvas-header\", unref(props).headerClass])\n          }, [renderSlot(_ctx.$slots, \"header\", normalizeProps(guardReactiveProps(sharedSlots.value)), () => [createElementVNode(\"h5\", {\n            id: `${unref(computedId)}-offcanvas-label`,\n            class: \"offcanvas-title\"\n          }, [renderSlot(_ctx.$slots, \"title\", normalizeProps(guardReactiveProps(sharedSlots.value)), () => [createTextVNode(toDisplayString(unref(props).title), 1)], true)], 8, _hoisted_2), !unref(props).noHeaderClose ? (openBlock(), createElementBlock(Fragment, {\n            key: 0\n          }, [hasHeaderCloseSlot.value ? (openBlock(), createBlock(_sfc_main$2, mergeProps({\n            key: 0\n          }, headerCloseAttrs.value, {\n            onClick: _cache[0] || (_cache[0] = $event => unref(hide)(\"close\"))\n          }), {\n            default: withCtx(() => [renderSlot(_ctx.$slots, \"header-close\", {}, void 0, true)]),\n            _: 3\n          }, 16)) : (openBlock(), createBlock(_sfc_main$3, mergeProps({\n            key: 1,\n            \"aria-label\": unref(props).headerCloseLabel\n          }, headerCloseAttrs.value, {\n            onClick: _cache[1] || (_cache[1] = $event => unref(hide)(\"close\"))\n          }), null, 16, [\"aria-label\"]))], 64)) : createCommentVNode(\"\", true)], true)], 2)) : createCommentVNode(\"\", true), createElementVNode(\"div\", mergeProps({\n            class: [\"offcanvas-body\", unref(props).bodyClass]\n          }, unref(props).bodyAttrs), [renderSlot(_ctx.$slots, \"default\", normalizeProps(guardReactiveProps(sharedSlots.value)), void 0, true)], 16), hasFooterSlot.value ? (openBlock(), createElementBlock(\"div\", {\n            key: 1,\n            class: normalizeClass(unref(props).footerClass)\n          }, [renderSlot(_ctx.$slots, \"footer\", normalizeProps(guardReactiveProps(sharedSlots.value)), void 0, true)], 2)) : createCommentVNode(\"\", true)], 64)) : createCommentVNode(\"\", true), unref(needsFallback) ? (openBlock(), createElementBlock(\"div\", {\n            key: 1,\n            ref: \"_fallbackFocusElement\",\n            class: normalizeClass(fallbackClassSelector),\n            tabindex: \"0\",\n            style: {\n              \"width\": \"0\",\n              \"height\": \"0\",\n              \"overflow\": \"hidden\"\n            }\n          }, null, 512)) : createCommentVNode(\"\", true)], 16, _hoisted_1), [[vShow, unref(showRef) && (unref(backdropReady) && unref(props).backdropFirst || !unref(props).backdropFirst) || isOpenByBreakpoint.value]])]),\n          _: 3\n        }, 16, [\"appear\"])) : createCommentVNode(\"\", true), !unref(props).noBackdrop ? renderSlot(_ctx.$slots, \"backdrop\", normalizeProps(mergeProps({\n          key: 1\n        }, sharedSlots.value)), () => [unref(renderBackdropRef) ? (openBlock(), createBlock(Transition, normalizeProps(mergeProps({\n          key: 0\n        }, unref(backdropTransitionProps))), {\n          default: withCtx(() => [withDirectives(createElementVNode(\"div\", {\n            class: normalizeClass([\"offcanvas-backdrop\", {\n              fade: !unref(computedNoAnimation),\n              show: unref(backdropVisible) || unref(computedNoAnimation)\n            }]),\n            onClick: _cache[2] || (_cache[2] = $event => unref(hide)(\"backdrop\"))\n          }, null, 2), [[vShow, showBackdrop.value]])]),\n          _: 1\n        }, 16)) : createCommentVNode(\"\", true)], true) : createCommentVNode(\"\", true)]),\n        _: 3\n      }, 8, [\"to\", \"disabled\"]);\n    };\n  }\n});\nconst BOffcanvas = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-77d852fe\"]]);\nexport { BOffcanvas as B };","map":{"version":3,"names":["fallbackClassSelector","_props","__props","props","useDefaults","emit","__emit","slots","useSlots","modelValue","useModel","computedId","useId","id","element","useTemplateRef","fallbackFocusElement","onAfterEnter","nextTick","noFocus","isOpenByBreakpoint","value","focused","showRef","renderRef","renderBackdropRef","hide","show","toggle","computedNoAnimation","contentShowing","transitionProps","backdropReady","backdropTransitionProps","backdropVisible","isVisible","buildTriggerableEvent","localNoAnimation","isLeaving","trapActive","useShowHide","enterToClass","leaveToClass","enterActiveClass","leaveActiveClass","enterFromClass","leaveFromClass","breakpoints","useBreakpoints","breakpointsBootstrapV5","smallerOrEqualToBreakpoint","smallerOrEqual","responsive","ref","onMounted","useSafeScrollLock","bodyScrolling","onKeyStroke","target","useFocus","initialValue","needsFallback","useActivatedFocusTrap","isActive","noTrap","fallbackFocus","classSelector","showBackdrop","computed","noBackdrop","backdropFirst","hasHeaderCloseSlot","isEmptySlot","headerCloseClasses","headerCloseClass","headerCloseAttrs","variant","headerCloseVariant","class","hasFooterSlot","footer","computedClasses","placement","shadow","computedStyles","width","sharedSlots","visible","watch","newValue","opened","requestAnimationFrame","__expose"],"sources":["../src/components/BOffcanvas/BOffcanvas.vue"],"sourcesContent":["<template>\n  <ConditionalTeleport\n    :to=\"props.teleportTo\"\n    :disabled=\"props.teleportDisabled || isOpenByBreakpoint\"\n  >\n    <Transition\n      v-if=\"renderRef || contentShowing || isOpenByBreakpoint\"\n      v-bind=\"transitionProps\"\n      :appear=\"modelValue || props.visible\"\n    >\n      <div\n        v-show=\"\n          (showRef && ((backdropReady && props.backdropFirst) || !props.backdropFirst)) ||\n          isOpenByBreakpoint\n        \"\n        :id=\"computedId\"\n        ref=\"_element\"\n        aria-modal=\"true\"\n        role=\"dialog\"\n        :class=\"computedClasses\"\n        :style=\"computedStyles\"\n        tabindex=\"-1\"\n        :aria-labelledby=\"`${computedId}-offcanvas-label`\"\n        data-bs-backdrop=\"false\"\n        v-bind=\"$attrs\"\n      >\n        <template v-if=\"contentShowing || isOpenByBreakpoint\">\n          <div v-if=\"!props.noHeader\" class=\"offcanvas-header\" :class=\"props.headerClass\">\n            <slot name=\"header\" v-bind=\"sharedSlots\">\n              <h5 :id=\"`${computedId}-offcanvas-label`\" class=\"offcanvas-title\">\n                <slot name=\"title\" v-bind=\"sharedSlots\">\n                  {{ props.title }}\n                </slot>\n              </h5>\n              <template v-if=\"!props.noHeaderClose\">\n                <BButton v-if=\"hasHeaderCloseSlot\" v-bind=\"headerCloseAttrs\" @click=\"hide('close')\">\n                  <slot name=\"header-close\" />\n                </BButton>\n                <BCloseButton\n                  v-else\n                  :aria-label=\"props.headerCloseLabel\"\n                  v-bind=\"headerCloseAttrs\"\n                  @click=\"hide('close')\"\n                />\n              </template>\n            </slot>\n          </div>\n          <div class=\"offcanvas-body\" :class=\"props.bodyClass\" v-bind=\"props.bodyAttrs\">\n            <slot v-bind=\"sharedSlots\" />\n          </div>\n          <div v-if=\"hasFooterSlot\" :class=\"props.footerClass\">\n            <slot name=\"footer\" v-bind=\"sharedSlots\" />\n          </div>\n        </template>\n        <div\n          v-if=\"needsFallback\"\n          ref=\"_fallbackFocusElement\"\n          :class=\"fallbackClassSelector\"\n          tabindex=\"0\"\n          style=\"width: 0; height: 0; overflow: hidden\"\n        />\n      </div>\n    </Transition>\n    <slot v-if=\"!props.noBackdrop\" name=\"backdrop\" v-bind=\"sharedSlots\">\n      <Transition v-if=\"renderBackdropRef\" v-bind=\"backdropTransitionProps\">\n        <div\n          v-show=\"showBackdrop\"\n          class=\"offcanvas-backdrop\"\n          :class=\"{\n            fade: !computedNoAnimation,\n            show: backdropVisible || computedNoAnimation,\n          }\"\n          @click=\"hide('backdrop')\"\n        />\n      </Transition>\n    </slot>\n  </ConditionalTeleport>\n</template>\n\n<script setup lang=\"ts\">\nimport {breakpointsBootstrapV5, onKeyStroke, useBreakpoints, useFocus} from '@vueuse/core'\nimport {useActivatedFocusTrap} from '../../composables/useActivatedFocusTrap'\nimport {computed, type EmitFn, nextTick, onMounted, ref, useTemplateRef, watch} from 'vue'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useId} from '../../composables/useId'\nimport type {BOffcanvasProps} from '../../types/ComponentProps'\nimport {BvTriggerableEvent} from '../../utils'\nimport BButton from '../BButton/BButton.vue'\nimport BCloseButton from '../BButton/BCloseButton.vue'\nimport ConditionalTeleport from '../ConditionalTeleport.vue'\nimport {useSafeScrollLock} from '../../composables/useSafeScrollLock'\nimport {isEmptySlot} from '../../utils/dom'\nimport {type showHideEmits, useShowHide} from '../../composables/useShowHide'\nimport type {Placement} from '../../types/Alignment'\n\n// TODO once the responsive stuff may be implemented correctly,\n// What needs to occur is a fixing of the \"body scrolling\".\n// If the offcanvas is on the screen on a large screen, body scrolling is not disabled\n// Even though the modelValue is true\n// When it's a small screen and close, it works, as normal,\n// But then when it opens up on a small screen, it must disable again\n// This is implemented on Layout.vue, but is not officially supported.\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst _props = withDefaults(defineProps<Omit<BOffcanvasProps, 'modelValue'>>(), {\n  backdropFirst: false,\n  bodyAttrs: undefined,\n  bodyClass: undefined,\n  bodyScrolling: false,\n  footerClass: undefined,\n  headerClass: undefined,\n  headerCloseClass: undefined,\n  headerCloseLabel: 'Close',\n  headerCloseVariant: 'secondary',\n  id: undefined,\n  initialAnimation: false,\n  lazy: false,\n  noAnimation: false,\n  noBackdrop: false,\n  noCloseOnBackdrop: false,\n  noCloseOnEsc: false,\n  noTrap: false,\n  noFocus: false,\n  noHeader: false,\n  noHeaderClose: false,\n  unmountLazy: false,\n  placement: 'start',\n  shadow: false,\n  teleportDisabled: false,\n  teleportTo: 'body',\n  title: undefined,\n  show: false,\n  width: undefined,\n  visible: false,\n})\nconst props = useDefaults(_props, 'BOffcanvas')\n\nconst emit = defineEmits<\n  {\n    close: [value: BvTriggerableEvent]\n    esc: [value: BvTriggerableEvent]\n    backdrop: [value: BvTriggerableEvent]\n    breakpoint: [value: BvTriggerableEvent, opened: boolean]\n  } & showHideEmits\n>()\n\ntype SharedSlotsData = {\n  visible: boolean\n  placement: Placement\n  hide: (trigger?: string) => void\n}\n\nconst slots = defineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'backdrop'?: (props: SharedSlotsData) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'default'?: (props: SharedSlotsData) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'footer'?: (props: SharedSlotsData) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'header'?: (props: SharedSlotsData) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'header-close'?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'title'?: (props: SharedSlotsData) => any\n}>()\n\nconst modelValue = defineModel<Exclude<BOffcanvasProps['modelValue'], undefined>>({\n  default: false,\n})\n\nconst computedId = useId(() => props.id, 'offcanvas')\n\nconst element = useTemplateRef<HTMLElement>('_element')\nconst fallbackFocusElement = useTemplateRef<HTMLElement>('_fallbackFocusElement')\n\nconst onAfterEnter = () => {\n  nextTick(() => {\n    if (props.noFocus === false && !isOpenByBreakpoint.value) {\n      focused.value = true\n    }\n  })\n}\n\nconst {\n  showRef,\n  renderRef,\n  renderBackdropRef,\n  hide,\n  show,\n  toggle,\n  computedNoAnimation,\n  contentShowing,\n  transitionProps,\n  backdropReady,\n  backdropTransitionProps,\n  backdropVisible,\n  isVisible,\n  buildTriggerableEvent,\n  localNoAnimation,\n  isLeaving,\n  trapActive,\n} = useShowHide(modelValue, props, emit as EmitFn, element, computedId, {\n  transitionProps: {\n    onAfterEnter,\n    enterToClass: 'showing',\n    leaveToClass: 'hiding',\n    enterActiveClass: '',\n    leaveActiveClass: '',\n    enterFromClass: '',\n    leaveFromClass: '',\n  },\n})\n\nconst breakpoints = useBreakpoints(breakpointsBootstrapV5)\nconst smallerOrEqualToBreakpoint = breakpoints.smallerOrEqual(() => props.responsive ?? 'xs')\nconst isOpenByBreakpoint = ref(props.responsive !== undefined && !smallerOrEqualToBreakpoint.value)\nonMounted(() => {\n  if (props.responsive !== undefined)\n    emit('breakpoint', buildTriggerableEvent('breakpoint'), isOpenByBreakpoint.value)\n})\n\nuseSafeScrollLock(showRef, () => props.bodyScrolling || isOpenByBreakpoint.value)\n\nonKeyStroke(\n  'Escape',\n  () => {\n    hide('esc')\n  },\n  {target: element}\n)\n\nconst {focused} = useFocus(element, {\n  initialValue: modelValue.value && props.noFocus === false && !isOpenByBreakpoint.value,\n})\n\nconst fallbackClassSelector = 'offcanvas-fallback-focus'\n\nconst {needsFallback} = useActivatedFocusTrap({\n  element,\n  isActive: trapActive,\n  noTrap: () => props.noTrap || isOpenByBreakpoint.value,\n  fallbackFocus: {\n    classSelector: fallbackClassSelector,\n    ref: fallbackFocusElement,\n  },\n})\n\nconst showBackdrop = computed(\n  () =>\n    (props.responsive === undefined || !isOpenByBreakpoint.value) &&\n    props.noBackdrop === false &&\n    (showRef.value === true ||\n      (isLeaving.value && props.backdropFirst && !computedNoAnimation.value))\n)\n\nconst hasHeaderCloseSlot = computed(() => !isEmptySlot(slots['header-close']))\nconst headerCloseClasses = computed(() => [\n  {'text-reset': !hasHeaderCloseSlot.value},\n  props.headerCloseClass,\n])\nconst headerCloseAttrs = computed(() => ({\n  variant: hasHeaderCloseSlot.value ? props.headerCloseVariant : undefined,\n  class: headerCloseClasses.value,\n}))\n\nconst hasFooterSlot = computed(() => !isEmptySlot(slots.footer))\nconst computedClasses = computed(() => [\n  props.responsive === undefined ? 'offcanvas' : `offcanvas-${props.responsive}`,\n  `offcanvas-${props.placement}`,\n  {\n    'show': isVisible.value,\n    [`shadow-${props.shadow}`]: !!props.shadow,\n    'no-transition': computedNoAnimation.value,\n  },\n])\n\nconst computedStyles = computed(() => ({\n  width: props.width,\n}))\n\nconst sharedSlots = computed<SharedSlotsData>(() => ({\n  visible: showRef.value,\n  placement: props.placement,\n  hide,\n}))\n\nwatch(smallerOrEqualToBreakpoint, (newValue) => {\n  if (props.responsive === undefined) return\n  if (newValue === true) {\n    const opened = false\n    localNoAnimation.value = true\n    requestAnimationFrame(() => {\n      isOpenByBreakpoint.value = opened\n    })\n    emit('breakpoint', buildTriggerableEvent('breakpoint'), opened)\n    emit('hide', buildTriggerableEvent('hide'))\n  } else {\n    const opened = true\n    localNoAnimation.value = true\n    requestAnimationFrame(() => {\n      isOpenByBreakpoint.value = opened\n    })\n    emit('breakpoint', buildTriggerableEvent('breakpoint'), opened)\n    emit('show', buildTriggerableEvent('show'))\n  }\n})\n\ndefineExpose({\n  hide,\n  show,\n  toggle,\n  isOpenByBreakpoint,\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.no-transition {\n  transition: none !important;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}