{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { defineComponent, mergeModels, useSlots, useModel, inject, ref, useTemplateRef, useAttrs, computed, onMounted, onUnmounted, watch, createBlock, openBlock, resolveDynamicComponent, unref, mergeProps, withCtx, renderSlot, createCommentVNode, nextTick, provide, toRef, normalizeClass, createVNode, createElementVNode, createElementBlock, Fragment, renderList, withModifiers, withKeys, createTextVNode, toDisplayString } from \"vue\";\nimport { u as useId } from \"./useId-BzCLXIGF.mjs\";\nimport { u as useDefaults } from \"./useDefaults-DANje4tM.mjs\";\nimport { q as tabsInjectionKey } from \"./keys-D3gOZjD-.mjs\";\nimport { B as BvEvent } from \"./classes-IC0yVJlq.mjs\";\nimport { u as useAlignment } from \"./useAlignment-Cw-9AVid.mjs\";\nimport { f as createReusableTemplate } from \"./index-cC189kCW.mjs\";\nimport { s as sortSlotElementsByPosition } from \"./dom-BK2w00Ec.mjs\";\nconst _sfc_main$1 = /* @__PURE__ */defineComponent({\n  ...{\n    inheritAttrs: false\n  },\n  __name: \"BTab\",\n  props: /* @__PURE__ */mergeModels({\n    buttonId: {\n      default: void 0\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      default: void 0\n    },\n    lazy: {\n      type: Boolean,\n      default: void 0\n    },\n    lazyOnce: {\n      type: Boolean,\n      default: void 0\n    },\n    noBody: {\n      type: Boolean,\n      default: false\n    },\n    tag: {\n      default: \"div\"\n    },\n    title: {\n      default: void 0\n    },\n    titleItemClass: {\n      default: void 0\n    },\n    titleLinkAttrs: {\n      default: void 0\n    },\n    titleLinkClass: {\n      default: void 0\n    }\n  }, {\n    \"active\": {\n      type: Boolean,\n      ...{\n        default: false\n      }\n    },\n    \"activeModifiers\": {}\n  }),\n  emits: [\"update:active\"],\n  setup(__props) {\n    const _props = __props;\n    const props = useDefaults(_props, \"BTab\");\n    const slots = useSlots();\n    const activeModel = useModel(__props, \"active\");\n    const parentData = inject(tabsInjectionKey, null);\n    const computedId = useId(() => props.id, \"tabpane\");\n    const computedButtonId = useId(() => props.buttonId, \"tab\");\n    const lazyRenderCompleted = ref(false);\n    const el = useTemplateRef(\"_el\");\n    const attrs = useAttrs();\n    const processedAttrs = computed(() => {\n      const {\n        onClick,\n        ...tabAttrs\n      } = attrs;\n      return {\n        onClick,\n        tabAttrs\n      };\n    });\n    const tab = computed(() => ({\n      id: computedId.value,\n      buttonId: computedButtonId.value,\n      disabled: props.disabled,\n      title: props.title,\n      titleComponent: slots.title,\n      titleItemClass: () => props.titleItemClass,\n      titleLinkAttrs: () => props.titleLinkAttrs,\n      titleLinkClass: () => props.titleLinkClass,\n      onClick: processedAttrs.value.onClick,\n      el: el.value\n    }));\n    onMounted(() => {\n      if (!parentData) return;\n      parentData.registerTab(tab);\n      if (activeModel.value) {\n        parentData.activateTab(computedId.value);\n      }\n    });\n    onUnmounted(() => {\n      if (!parentData) return;\n      parentData.unregisterTab(computedId.value);\n    });\n    const isActive = computed(() => (parentData == null ? void 0 : parentData.activeId.value) === computedId.value);\n    const show = ref(isActive.value);\n    const computedLazy = computed(() => !!((parentData == null ? void 0 : parentData.lazy.value) || (props.lazyOnce ?? props.lazy)));\n    const computedLazyOnce = computed(() => props.lazyOnce !== void 0);\n    const computedActive = computed(() => isActive.value && !props.disabled);\n    const showSlot = computed(() => computedActive.value || !computedLazy.value || computedLazy.value && computedLazyOnce.value && lazyRenderCompleted.value);\n    watch(isActive, active => {\n      if (active) {\n        activeModel.value = true;\n        setTimeout(() => {\n          show.value = true;\n        }, 0);\n        return;\n      }\n      show.value = false;\n      activeModel.value = false;\n    });\n    watch(activeModel, active => {\n      if (!parentData) return;\n      if (!active) {\n        if (isActive.value) {\n          parentData.activateTab(void 0);\n        }\n        return;\n      }\n      parentData.activateTab(computedId.value);\n    });\n    const computedClasses = computed(() => [{\n      \"active\": isActive.value,\n      \"show\": show.value,\n      \"card-body\": (parentData == null ? void 0 : parentData.card.value) && props.noBody === false,\n      \"fade\": !(parentData == null ? void 0 : parentData.noFade.value)\n    }, show.value ? parentData == null ? void 0 : parentData.activeTabClass.value : parentData == null ? void 0 : parentData.inactiveTabClass.value, parentData == null ? void 0 : parentData.tabClass.value]);\n    watch(showSlot, shown => {\n      if (shown && !lazyRenderCompleted.value) lazyRenderCompleted.value = true;\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(resolveDynamicComponent(unref(props).tag), mergeProps({\n        id: unref(computedId),\n        ref: \"_el\",\n        class: [\"tab-pane\", computedClasses.value],\n        role: \"tabpanel\",\n        \"aria-labelledby\": unref(computedButtonId)\n      }, processedAttrs.value.tabAttrs), {\n        default: withCtx(() => [showSlot.value ? renderSlot(_ctx.$slots, \"default\", {\n          key: 0\n        }) : createCommentVNode(\"\", true)]),\n        _: 3\n      }, 16, [\"id\", \"class\", \"aria-labelledby\"]);\n    };\n  }\n});\nconst _hoisted_1 = [\"aria-orientation\"];\nconst _hoisted_2 = [\"id\", \"aria-controls\", \"aria-selected\", \"tabindex\", \"onClick\"];\nconst _sfc_main = /* @__PURE__ */defineComponent({\n  __name: \"BTabs\",\n  props: /* @__PURE__ */mergeModels({\n    activeNavItemClass: {\n      default: void 0\n    },\n    activeTabClass: {\n      default: void 0\n    },\n    align: {\n      default: void 0\n    },\n    card: {\n      type: Boolean,\n      default: false\n    },\n    contentClass: {\n      default: void 0\n    },\n    end: {\n      type: Boolean,\n      default: false\n    },\n    fill: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      default: void 0\n    },\n    inactiveNavItemClass: {\n      default: void 0\n    },\n    inactiveTabClass: {\n      default: void 0\n    },\n    justified: {\n      type: Boolean,\n      default: false\n    },\n    lazy: {\n      type: Boolean,\n      default: false\n    },\n    navClass: {\n      default: void 0\n    },\n    navItemClass: {\n      default: void 0\n    },\n    navWrapperClass: {\n      default: void 0\n    },\n    noFade: {\n      type: Boolean,\n      default: false\n    },\n    noKeyNav: {\n      type: Boolean,\n      default: false\n    },\n    noNavStyle: {\n      type: Boolean,\n      default: false\n    },\n    pills: {\n      type: Boolean,\n      default: false\n    },\n    small: {\n      type: Boolean,\n      default: false\n    },\n    tag: {\n      default: \"div\"\n    },\n    tabClass: {\n      default: void 0\n    },\n    underline: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    }\n  }, {\n    \"modelValue\": {\n      default: -1\n    },\n    \"modelModifiers\": {},\n    \"activeId\": {\n      default: void 0\n    },\n    \"activeIdModifiers\": {}\n  }),\n  emits: /* @__PURE__ */mergeModels([\"activate-tab\", \"click\"], [\"update:modelValue\", \"update:activeId\"]),\n  setup(__props, {\n    emit: __emit\n  }) {\n    const _props = __props;\n    const props = useDefaults(_props, \"BTabs\");\n    const emit = __emit;\n    const modelValue = useModel(__props, \"modelValue\");\n    const activeId = useModel(__props, \"activeId\");\n    const ReusableEmptyTab = createReusableTemplate();\n    const tabsInternal = ref([]);\n    const tabs = computed(() => tabsInternal.value.map(_tab => {\n      const tab = unref(_tab);\n      const active = tab.id === activeId.value;\n      return {\n        ...tab,\n        active,\n        navItemClasses: [{\n          active,\n          disabled: tab.disabled\n        }, active ? props.activeNavItemClass : props.inactiveNavItemClass, props.navItemClass]\n      };\n    }));\n    const showEmpty = computed(() => !((tabs == null ? void 0 : tabs.value) && tabs.value.length > 0));\n    const computedClasses = computed(() => ({\n      \"d-flex\": props.vertical,\n      \"align-items-start\": props.vertical\n    }));\n    const alignment = useAlignment(() => props.align);\n    const navTabsClasses = computed(() => ({\n      \"nav-pills\": props.pills,\n      \"nav-underline\": props.underline,\n      \"flex-column me-3\": props.vertical,\n      [alignment.value]: props.align !== void 0,\n      \"nav-fill\": props.fill,\n      \"card-header-tabs\": props.card && !props.pills && !props.underline,\n      \"card-header-pills\": props.card && props.pills,\n      \"nav-justified\": props.justified,\n      \"nav-tabs\": !props.noNavStyle && !props.pills && !props.underline,\n      \"small\": props.small\n    }));\n    const activateTab = index => {\n      var _a;\n      if (index !== void 0) {\n        const id = (_a = tabs.value[index]) == null ? void 0 : _a.id;\n        if (index > -1 && index < tabs.value.length && !tabs.value[index].disabled && (modelValue.value < 0 || activeId.value !== id || modelValue.value !== index)) {\n          const tabEvent = new BvEvent(\"activate-tab\", {\n            cancelable: true\n          });\n          emit(\"activate-tab\", index, modelValue.value, tabEvent);\n          if (!tabEvent.defaultPrevented) {\n            if (activeId.value !== id) activeId.value = id;\n            if (modelValue.value !== index) modelValue.value = index;\n          }\n        }\n      }\n    };\n    const handleClick = (event, index) => {\n      var _a, _b, _c;\n      activateTab(index);\n      if (index >= 0 && !tabs.value[index].disabled && ((_a = tabs.value[index]) == null ? void 0 : _a.onClick) && typeof tabs.value[index].onClick === \"function\") {\n        (_c = (_b = tabs.value[index]).onClick) == null ? void 0 : _c.call(_b, event);\n      }\n    };\n    const keynav = (e, direction) => {\n      var _a, _b;\n      if (tabs.value.length <= 0 || props.noKeyNav) return;\n      e.preventDefault();\n      e.stopPropagation();\n      modelValue.value = nextIndex(modelValue.value + direction, direction);\n      (_b = document.getElementById((_a = tabs.value[modelValue.value]) == null ? void 0 : _a.buttonId)) == null ? void 0 : _b.focus();\n    };\n    const nextIndex = (start, direction) => {\n      let index = start;\n      let minIdx = -1;\n      let maxIdx = -1;\n      for (let i = 0; i < tabs.value.length; i++) {\n        if (!tabs.value[i].disabled) {\n          if (minIdx === -1) minIdx = i;\n          maxIdx = i;\n        }\n      }\n      while (index >= minIdx && index <= maxIdx && tabs.value[index].disabled) {\n        index += direction;\n      }\n      if (index < minIdx) index = minIdx;\n      if (index > maxIdx) index = maxIdx;\n      return index;\n    };\n    watch(modelValue, (newValue, oldValue) => {\n      if (newValue === oldValue) return;\n      if (tabs.value.length <= 0) {\n        return;\n      }\n      const index = nextIndex(newValue, newValue > oldValue ? 1 : -1);\n      nextTick(() => {\n        activateTab(index);\n      });\n    });\n    watch(activeId, (newValue, oldValue) => {\n      const index = tabs.value.findIndex(t => t.id === newValue);\n      if (newValue === oldValue) return;\n      if (tabs.value.length <= 0) {\n        return;\n      }\n      if (index === -1) {\n        activateTab(nextIndex(0, 1));\n        return;\n      }\n      activateTab(index);\n    });\n    const registerTab = tab => {\n      if (!tabsInternal.value.find(t => t.value.id === tab.value.id)) {\n        tabsInternal.value.push(tab);\n      } else {\n        tabsInternal.value[tabsInternal.value.findIndex(t => t.value.id === tab.value.id)] = tab;\n      }\n      tabsInternal.value.sort((a, b) => sortSlotElementsByPosition(a.value.el, b.value.el));\n    };\n    const unregisterTab = id => {\n      tabsInternal.value = tabsInternal.value.filter(t => t.value.id !== id);\n    };\n    watch(tabsInternal, () => {\n      findActive();\n    }, {\n      deep: true\n    });\n    const findActive = () => {\n      var _a;\n      if (tabs.value.length === 0) {\n        modelValue.value = -1;\n        activeId.value = void 0;\n        return;\n      }\n      if (modelValue.value >= 0 && !activeId.value) {\n        activeId.value = (_a = tabs.value[modelValue.value]) == null ? void 0 : _a.id;\n      }\n      if (tabs.value.find(t => t.id === activeId.value)) {\n        activateTab(tabs.value.findIndex(t => t.id === activeId.value));\n        return;\n      }\n      activateTab(tabs.value.map(tab => !tab.disabled).indexOf(true));\n    };\n    provide(tabsInjectionKey, {\n      lazy: toRef(() => props.lazy),\n      card: toRef(() => props.card),\n      noFade: toRef(() => props.noFade),\n      activeTabClass: toRef(() => props.activeTabClass),\n      inactiveTabClass: toRef(() => props.inactiveTabClass),\n      tabClass: toRef(() => props.tabClass),\n      registerTab,\n      unregisterTab,\n      activeId,\n      activateTab: id => {\n        const idx = tabs.value.findIndex(t => t.id === id);\n        if (id === void 0 || idx === -1) {\n          activateTab(nextIndex(0, 1));\n          return;\n        }\n        activateTab(idx);\n      }\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(resolveDynamicComponent(unref(props).tag), {\n        id: unref(props).id,\n        class: normalizeClass([\"tabs\", computedClasses.value])\n      }, {\n        default: withCtx(() => [createVNode(unref(ReusableEmptyTab).define, null, {\n          default: withCtx(() => [createElementVNode(\"div\", {\n            class: normalizeClass([\"tab-content\", unref(props).contentClass])\n          }, [renderSlot(_ctx.$slots, \"default\"), showEmpty.value ? (openBlock(), createElementBlock(\"div\", {\n            key: \"bv-empty-tab\",\n            class: normalizeClass([\"tab-pane active\", {\n              \"card-body\": unref(props).card\n            }])\n          }, [renderSlot(_ctx.$slots, \"empty\")], 2)) : createCommentVNode(\"\", true)], 2)]),\n          _: 3\n        }), unref(props).end ? (openBlock(), createBlock(unref(ReusableEmptyTab).reuse, {\n          key: 0\n        })) : createCommentVNode(\"\", true), createElementVNode(\"div\", {\n          class: normalizeClass([unref(props).navWrapperClass, {\n            \"card-header\": unref(props).card,\n            \"ms-auto\": _ctx.vertical && unref(props).end\n          }])\n        }, [createElementVNode(\"ul\", {\n          class: normalizeClass([\"nav\", [navTabsClasses.value, unref(props).navClass]]),\n          role: \"tablist\",\n          \"aria-orientation\": unref(props).vertical ? \"vertical\" : \"horizontal\"\n        }, [renderSlot(_ctx.$slots, \"tabs-start\"), (openBlock(true), createElementBlock(Fragment, null, renderList(tabs.value, (tab, idx) => {\n          var _a, _b, _c;\n          return openBlock(), createElementBlock(\"li\", {\n            key: tab.id,\n            class: normalizeClass([\"nav-item\", (_a = tab.titleItemClass) == null ? void 0 : _a.call(tab)]),\n            role: \"presentation\"\n          }, [createElementVNode(\"button\", mergeProps({\n            id: tab.buttonId,\n            class: [\"nav-link\", [tab.navItemClasses, (_b = tab.titleLinkClass) == null ? void 0 : _b.call(tab)]],\n            role: \"tab\",\n            \"aria-controls\": tab.id,\n            \"aria-selected\": tab.active,\n            tabindex: unref(props).noKeyNav ? void 0 : tab.active ? void 0 : -1,\n            ref_for: true\n          }, (_c = tab.titleLinkAttrs) == null ? void 0 : _c.call(tab), {\n            onKeydown: [_cache[0] || (_cache[0] = withKeys(withModifiers($event => !unref(props).vertical && keynav($event, -1), [\"exact\"]), [\"left\"])), _cache[1] || (_cache[1] = withKeys(withModifiers($event => !unref(props).vertical && keynav($event, -999), [\"shift\"]), [\"left\"])), _cache[2] || (_cache[2] = withKeys(withModifiers($event => unref(props).vertical && keynav($event, -1), [\"exact\"]), [\"up\"])), _cache[3] || (_cache[3] = withKeys(withModifiers($event => unref(props).vertical && keynav($event, -999), [\"shift\"]), [\"up\"])), _cache[4] || (_cache[4] = withKeys(withModifiers($event => !unref(props).vertical && keynav($event, 1), [\"exact\"]), [\"right\"])), _cache[5] || (_cache[5] = withKeys(withModifiers($event => !unref(props).vertical && keynav($event, 999), [\"shift\"]), [\"right\"])), _cache[6] || (_cache[6] = withKeys(withModifiers($event => unref(props).vertical && keynav($event, 1), [\"exact\"]), [\"down\"])), _cache[7] || (_cache[7] = withKeys(withModifiers($event => unref(props).vertical && keynav($event, 999), [\"shift\"]), [\"down\"])), _cache[8] || (_cache[8] = withKeys($event => keynav($event, -999), [\"page-up\"])), _cache[9] || (_cache[9] = withKeys($event => keynav($event, 999), [\"page-down\"])), _cache[10] || (_cache[10] = withKeys($event => keynav($event, -999), [\"home\"])), _cache[11] || (_cache[11] = withKeys($event => keynav($event, 999), [\"end\"]))],\n            onClick: withModifiers(e => handleClick(e, idx), [\"stop\", \"prevent\"])\n          }), [tab.titleComponent ? (openBlock(), createBlock(resolveDynamicComponent(tab.titleComponent), {\n            key: 0\n          })) : (openBlock(), createElementBlock(Fragment, {\n            key: 1\n          }, [createTextVNode(toDisplayString(tab.title), 1)], 64))], 16, _hoisted_2)], 2);\n        }), 128)), renderSlot(_ctx.$slots, \"tabs-end\")], 10, _hoisted_1)], 2), !unref(props).end ? (openBlock(), createBlock(unref(ReusableEmptyTab).reuse, {\n          key: 1\n        })) : createCommentVNode(\"\", true)]),\n        _: 3\n      }, 8, [\"id\", \"class\"]);\n    };\n  }\n});\nexport { _sfc_main$1 as _, _sfc_main as a };","map":{"version":3,"names":["_props","__props","props","useDefaults","slots","useSlots","activeModel","useModel","parentData","inject","tabsInjectionKey","computedId","useId","id","computedButtonId","buttonId","lazyRenderCompleted","ref","el","useTemplateRef","attrs","useAttrs","processedAttrs","computed","onClick","tabAttrs","tab","value","disabled","title","titleComponent","titleItemClass","titleLinkAttrs","titleLinkClass","onMounted","registerTab","activateTab","onUnmounted","unregisterTab","isActive","activeId","show","computedLazy","lazy","lazyOnce","computedLazyOnce","computedActive","showSlot","watch","active","setTimeout","computedClasses","card","noBody","noFade","activeTabClass","inactiveTabClass","tabClass","shown","emit","__emit","modelValue","ReusableEmptyTab","createReusableTemplate","tabsInternal","tabs","map","_tab","unref","navItemClasses","activeNavItemClass","inactiveNavItemClass","navItemClass","showEmpty","length","vertical","alignment","useAlignment","align","navTabsClasses","pills","underline","fill","justified","noNavStyle","small","index","_a","tabEvent","BvEvent","cancelable","defaultPrevented","handleClick","event","_c","_b","call","keynav","e","direction","noKeyNav","preventDefault","stopPropagation","nextIndex","document","getElementById","focus","start","minIdx","maxIdx","i","newValue","oldValue","nextTick","findIndex","t","find","push","sort","a","b","sortSlotElementsByPosition","filter","findActive","deep","indexOf","provide","toRef","idx"],"sources":["../src/components/BTabs/BTab.vue","../src/components/BTabs/BTabs.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"props.tag\"\n    :id=\"computedId\"\n    ref=\"_el\"\n    class=\"tab-pane\"\n    :class=\"computedClasses\"\n    role=\"tabpanel\"\n    :aria-labelledby=\"computedButtonId\"\n    v-bind=\"processedAttrs.tabAttrs\"\n  >\n    <slot v-if=\"showSlot\" />\n  </component>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, inject, onMounted, onUnmounted, ref, useAttrs, useTemplateRef, watch} from 'vue'\nimport {useId} from '../../composables/useId'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {TabType} from '../../types/Tab'\nimport type {BTabProps} from '../../types/ComponentProps'\nimport {tabsInjectionKey} from '../../utils/keys'\n\nconst _props = withDefaults(defineProps<Omit<BTabProps, 'active'>>(), {\n  buttonId: undefined,\n  disabled: false,\n  id: undefined,\n  lazy: undefined,\n  lazyOnce: undefined,\n  noBody: false,\n  tag: 'div',\n  title: undefined,\n  titleItemClass: undefined,\n  titleLinkAttrs: undefined,\n  titleLinkClass: undefined,\n})\nconst props = useDefaults(_props, 'BTab')\n\nconst slots = defineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  default?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  title?: (props: Record<string, never>) => any\n}>()\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst activeModel = defineModel<Exclude<BTabProps['active'], undefined>>('active', {\n  default: false,\n})\n\nconst parentData = inject(tabsInjectionKey, null)\nconst computedId = useId(() => props.id, 'tabpane')\nconst computedButtonId = useId(() => props.buttonId, 'tab')\n\nconst lazyRenderCompleted = ref(false)\nconst el = useTemplateRef<HTMLElement>('_el')\n\nconst attrs = useAttrs()\nconst processedAttrs = computed(() => {\n  const {onClick, ...tabAttrs} = attrs\n  return {onClick, tabAttrs}\n})\n\nconst tab = computed(\n  () =>\n    ({\n      id: computedId.value,\n      buttonId: computedButtonId.value,\n      disabled: props.disabled,\n      title: props.title,\n      titleComponent: slots.title,\n      titleItemClass: () => props.titleItemClass,\n      titleLinkAttrs: () => props.titleLinkAttrs,\n      titleLinkClass: () => props.titleLinkClass,\n      onClick: processedAttrs.value.onClick,\n      el: el.value,\n    }) as TabType\n)\n\nonMounted(() => {\n  if (!parentData) return\n  parentData.registerTab(tab)\n  if (activeModel.value) {\n    parentData.activateTab(computedId.value)\n  }\n})\n\nonUnmounted(() => {\n  if (!parentData) return\n  parentData.unregisterTab(computedId.value)\n})\n\nconst isActive = computed(() => parentData?.activeId.value === computedId.value)\nconst show = ref(isActive.value)\n\nconst computedLazy = computed(() => !!(parentData?.lazy.value || (props.lazyOnce ?? props.lazy)))\nconst computedLazyOnce = computed(() => props.lazyOnce !== undefined)\n\nconst computedActive = computed(() => isActive.value && !props.disabled)\nconst showSlot = computed(\n  () =>\n    computedActive.value ||\n    !computedLazy.value ||\n    (computedLazy.value && computedLazyOnce.value && lazyRenderCompleted.value)\n)\n\nwatch(isActive, (active) => {\n  if (active) {\n    activeModel.value = true\n    setTimeout(() => {\n      show.value = true\n    }, 0)\n    return\n  }\n  show.value = false\n  activeModel.value = false\n})\nwatch(activeModel, (active) => {\n  if (!parentData) return\n  if (!active) {\n    if (isActive.value) {\n      parentData.activateTab(undefined)\n    }\n    return\n  }\n  parentData.activateTab(computedId.value)\n})\n\nconst computedClasses = computed(() => [\n  {\n    'active': isActive.value,\n    'show': show.value,\n    'card-body': parentData?.card.value && props.noBody === false,\n    'fade': !parentData?.noFade.value,\n  },\n  show.value ? parentData?.activeTabClass.value : parentData?.inactiveTabClass.value,\n  parentData?.tabClass.value,\n])\n\nwatch(showSlot, (shown) => {\n  if (shown && !lazyRenderCompleted.value) lazyRenderCompleted.value = true\n})\n</script>\n","<template>\n  <component :is=\"props.tag\" :id=\"props.id\" class=\"tabs\" :class=\"computedClasses\">\n    <ReusableEmptyTab.define>\n      <div class=\"tab-content\" :class=\"props.contentClass\">\n        <slot />\n        <div\n          v-if=\"showEmpty\"\n          key=\"bv-empty-tab\"\n          class=\"tab-pane active\"\n          :class=\"{'card-body': props.card}\"\n        >\n          <slot name=\"empty\" />\n        </div>\n      </div>\n    </ReusableEmptyTab.define>\n\n    <ReusableEmptyTab.reuse v-if=\"props.end\" />\n    <div\n      :class=\"[\n        props.navWrapperClass,\n        {'card-header': props.card, 'ms-auto': vertical && props.end},\n      ]\"\n    >\n      <ul\n        class=\"nav\"\n        :class=\"[navTabsClasses, props.navClass]\"\n        role=\"tablist\"\n        :aria-orientation=\"props.vertical ? 'vertical' : 'horizontal'\"\n      >\n        <slot name=\"tabs-start\" />\n        <li\n          v-for=\"(tab, idx) in tabs\"\n          :key=\"tab.id\"\n          class=\"nav-item\"\n          :class=\"tab.titleItemClass?.()\"\n          role=\"presentation\"\n        >\n          <button\n            :id=\"tab.buttonId\"\n            class=\"nav-link\"\n            :class=\"[tab.navItemClasses, tab.titleLinkClass?.()]\"\n            role=\"tab\"\n            :aria-controls=\"tab.id\"\n            :aria-selected=\"tab.active\"\n            :tabindex=\"props.noKeyNav ? undefined : tab.active ? undefined : -1\"\n            v-bind=\"tab.titleLinkAttrs?.()\"\n            @keydown.left.exact=\"!props.vertical && keynav($event, -1)\"\n            @keydown.left.shift=\"!props.vertical && keynav($event, -999)\"\n            @keydown.up.exact=\"props.vertical && keynav($event, -1)\"\n            @keydown.up.shift=\"props.vertical && keynav($event, -999)\"\n            @keydown.right.exact=\"!props.vertical && keynav($event, 1)\"\n            @keydown.right.shift=\"!props.vertical && keynav($event, 999)\"\n            @keydown.down.exact=\"props.vertical && keynav($event, 1)\"\n            @keydown.down.shift=\"props.vertical && keynav($event, 999)\"\n            @keydown.page-up=\"keynav($event, -999)\"\n            @keydown.page-down=\"keynav($event, 999)\"\n            @keydown.home=\"keynav($event, -999)\"\n            @keydown.end=\"keynav($event, 999)\"\n            @click.stop.prevent=\"(e) => handleClick(e, idx)\"\n          >\n            <component :is=\"tab.titleComponent\" v-if=\"tab.titleComponent\" />\n            <template v-else>\n              {{ tab.title }}\n            </template>\n          </button>\n        </li>\n        <slot name=\"tabs-end\" />\n      </ul>\n    </div>\n    <ReusableEmptyTab.reuse v-if=\"!props.end\" />\n  </component>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, nextTick, provide, type Ref, ref, toRef, unref, watch} from 'vue'\nimport {BvEvent} from '../../utils/classes'\nimport {useAlignment} from '../../composables/useAlignment'\nimport {createReusableTemplate} from '@vueuse/core'\nimport type {TabType} from '../../types/Tab'\nimport type {BTabsProps} from '../../types/ComponentProps'\nimport {tabsInjectionKey} from '../../utils/keys'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {sortSlotElementsByPosition} from '../../utils/dom'\n\nconst _props = withDefaults(defineProps<Omit<BTabsProps, 'modelValue' | 'activeId'>>(), {\n  activeNavItemClass: undefined,\n  activeTabClass: undefined,\n  align: undefined,\n  card: false,\n  contentClass: undefined,\n  end: false,\n  fill: false,\n  id: undefined,\n  inactiveNavItemClass: undefined,\n  inactiveTabClass: undefined,\n  justified: false,\n  lazy: false,\n  navClass: undefined,\n  navItemClass: undefined,\n  navWrapperClass: undefined,\n  noFade: false,\n  noKeyNav: false,\n  noNavStyle: false,\n  pills: false,\n  small: false,\n  tag: 'div',\n  tabClass: undefined,\n  underline: false,\n  vertical: false,\n})\nconst props = useDefaults(_props, 'BTabs')\n\nconst emit = defineEmits<{\n  'activate-tab': [v1: number, v2: number, v3: BvEvent]\n  'click': [] // TODO click event is never used\n}>()\n\ndefineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'default'?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'empty'?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'tabs-end'?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'tabs-start'?: (props: Record<string, never>) => any\n}>()\n\nconst modelValue = defineModel<Exclude<BTabsProps['modelValue'], undefined>>({\n  default: -1,\n})\nconst activeId = defineModel<BTabsProps['activeId']>('activeId', {\n  default: undefined,\n})\n\nconst ReusableEmptyTab = createReusableTemplate()\n\nconst tabsInternal = ref<Ref<TabType>[]>([])\n\nconst tabs = computed(() =>\n  tabsInternal.value.map((_tab) => {\n    const tab = unref(_tab)\n    const active = tab.id === activeId.value\n\n    return {\n      ...tab,\n      active,\n      navItemClasses: [\n        {\n          active,\n          disabled: tab.disabled,\n        },\n        active ? props.activeNavItemClass : props.inactiveNavItemClass,\n        props.navItemClass,\n      ],\n    }\n  })\n)\n\nconst showEmpty = computed(() => !(tabs?.value && tabs.value.length > 0))\n\nconst computedClasses = computed(() => ({\n  'd-flex': props.vertical,\n  'align-items-start': props.vertical,\n}))\n\nconst alignment = useAlignment(() => props.align)\n\nconst navTabsClasses = computed(() => ({\n  'nav-pills': props.pills,\n  'nav-underline': props.underline,\n  'flex-column me-3': props.vertical,\n  [alignment.value]: props.align !== undefined,\n  'nav-fill': props.fill,\n  'card-header-tabs': props.card && !props.pills && !props.underline,\n  'card-header-pills': props.card && props.pills,\n  'nav-justified': props.justified,\n  'nav-tabs': !props.noNavStyle && !props.pills && !props.underline,\n  'small': props.small,\n}))\n\nconst activateTab = (index: number): void => {\n  if (index !== undefined) {\n    const id = tabs.value[index]?.id\n    if (\n      index > -1 &&\n      index < tabs.value.length &&\n      !tabs.value[index].disabled &&\n      (modelValue.value < 0 || activeId.value !== id || modelValue.value !== index)\n    ) {\n      const tabEvent = new BvEvent('activate-tab', {cancelable: true})\n      emit('activate-tab', index, modelValue.value, tabEvent)\n      if (!tabEvent.defaultPrevented) {\n        if (activeId.value !== id) activeId.value = id\n        if (modelValue.value !== index) modelValue.value = index\n      }\n    }\n  }\n}\n\nconst handleClick = (event: Readonly<MouseEvent>, index: number) => {\n  activateTab(index)\n  if (\n    index >= 0 &&\n    !tabs.value[index].disabled &&\n    tabs.value[index]?.onClick &&\n    typeof tabs.value[index].onClick === 'function'\n  ) {\n    tabs.value[index].onClick?.(event)\n  }\n}\n\nconst keynav = (e: Event, direction: number) => {\n  if (tabs.value.length <= 0 || props.noKeyNav) return\n  e.preventDefault()\n  e.stopPropagation()\n  modelValue.value = nextIndex(modelValue.value + direction, direction)\n  document.getElementById(tabs.value[modelValue.value]?.buttonId)?.focus()\n}\n\nconst nextIndex = (start: number, direction: number) => {\n  let index = start\n  let minIdx = -1\n  let maxIdx = -1\n\n  for (let i = 0; i < tabs.value.length; i++) {\n    if (!tabs.value[i].disabled) {\n      if (minIdx === -1) minIdx = i\n      maxIdx = i\n    }\n  }\n\n  while (index >= minIdx && index <= maxIdx && tabs.value[index].disabled) {\n    index += direction\n  }\n\n  if (index < minIdx) index = minIdx\n  if (index > maxIdx) index = maxIdx\n\n  return index\n}\n\nwatch(modelValue, (newValue, oldValue) => {\n  if (newValue === oldValue) return\n  if (tabs.value.length <= 0) {\n    return\n  }\n\n  const index = nextIndex(newValue, newValue > oldValue ? 1 : -1)\n  nextTick(() => {\n    activateTab(index)\n  })\n})\n\nwatch(activeId, (newValue, oldValue) => {\n  const index = tabs.value.findIndex((t) => t.id === newValue)\n  if (newValue === oldValue) return\n  if (tabs.value.length <= 0) {\n    return\n  }\n  if (index === -1) {\n    activateTab(nextIndex(0, 1))\n    return\n  }\n  activateTab(index)\n})\n\nconst registerTab = (tab: Ref<TabType>) => {\n  if (!tabsInternal.value.find((t) => t.value.id === tab.value.id)) {\n    tabsInternal.value.push(tab)\n  } else {\n    tabsInternal.value[tabsInternal.value.findIndex((t) => t.value.id === tab.value.id)] = tab\n  }\n  tabsInternal.value.sort((a, b) => sortSlotElementsByPosition(a.value.el, b.value.el))\n}\nconst unregisterTab = (id: string) => {\n  tabsInternal.value = tabsInternal.value.filter((t) => t.value.id !== id)\n}\n\nwatch(\n  tabsInternal,\n  () => {\n    findActive()\n  },\n  {deep: true}\n)\n\nconst findActive = () => {\n  if (tabs.value.length === 0) {\n    modelValue.value = -1\n    activeId.value = undefined\n    return\n  }\n  if (modelValue.value >= 0 && !activeId.value) {\n    activeId.value = tabs.value[modelValue.value]?.id\n  }\n  if (tabs.value.find((t) => t.id === activeId.value)) {\n    activateTab(tabs.value.findIndex((t) => t.id === activeId.value))\n    return\n  }\n  activateTab(tabs.value.map((tab) => !tab.disabled).indexOf(true))\n}\n\nprovide(tabsInjectionKey, {\n  lazy: toRef(() => props.lazy),\n  card: toRef(() => props.card),\n  noFade: toRef(() => props.noFade),\n  activeTabClass: toRef(() => props.activeTabClass),\n  inactiveTabClass: toRef(() => props.inactiveTabClass),\n  tabClass: toRef(() => props.tabClass),\n  registerTab,\n  unregisterTab,\n  activeId,\n  activateTab: (id) => {\n    const idx = tabs.value.findIndex((t) => t.id === id)\n    if (id === undefined || idx === -1) {\n      activateTab(nextIndex(0, 1))\n      return\n    }\n    activateTab(idx)\n  },\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}