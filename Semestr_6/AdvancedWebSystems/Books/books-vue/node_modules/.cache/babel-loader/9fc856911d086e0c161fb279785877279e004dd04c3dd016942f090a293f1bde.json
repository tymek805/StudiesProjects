{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-6 bg-white shadow-lg rounded-2xl\"\n};\nconst _hoisted_2 = {\n  class: \"flex justify-between items-center mb-4\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_vue_good_table = _resolveComponent(\"vue-good-table\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[1] || (_cache[1] = _createElementVNode(\"h2\", {\n    class: \"text-2xl font-bold\"\n  }, \"üìò Book List\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    class: \"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addBook && $options.addBook(...args))\n  }, \" ‚ûï Add Book \")]), _createVNode(_component_vue_good_table, {\n    columns: $data.columns,\n    rows: $data.books,\n    \"pagination-options\": {\n      enabled: true,\n      perPage: 5\n    },\n    \"search-options\": {\n      enabled: true,\n      placeholder: 'Search books...'\n    },\n    \"sort-options\": {\n      enabled: true\n    }\n  }, {\n    \"table-row\": _withCtx(props => [props.column.field === 'actions' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, [_createElementVNode(\"button\", {\n      class: \"text-sm text-white bg-yellow-500 hover:bg-yellow-600 px-3 py-1 rounded mr-2\",\n      onClick: $event => $options.editBook(props.row)\n    }, \" ‚úèÔ∏è Edit \", 8 /* PROPS */, _hoisted_4), _createElementVNode(\"button\", {\n      class: \"text-sm text-white bg-red-500 hover:bg-red-600 px-3 py-1 rounded\",\n      onClick: $event => $options.deleteBook(props.row)\n    }, \" üóë Delete \", 8 /* PROPS */, _hoisted_5)])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(props.formattedRow[props.column.field]), 1 /* TEXT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"columns\", \"rows\"])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","addBook","_createVNode","_component_vue_good_table","columns","$data","rows","books","enabled","perPage","placeholder","_withCtx","props","column","field","_hoisted_3","$event","editBook","row","_hoisted_4","deleteBook","_hoisted_5","_hoisted_6","_toDisplayString","formattedRow","_"],"sources":["/home/tymoteusz/Projects/StudiesProjects/Semestr_6/AdvancedWebSystems/Books/books-vue/src/components/BooksTable.vue"],"sourcesContent":["<template>\n  <div class=\"p-6 bg-white shadow-lg rounded-2xl\">\n    <div class=\"flex justify-between items-center mb-4\">\n      <h2 class=\"text-2xl font-bold\">üìò Book List</h2>\n      <button\n          class=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\n          @click=\"addBook\"\n      >\n        ‚ûï Add Book\n      </button>\n    </div>\n\n    <vue-good-table\n        :columns=\"columns\"\n        :rows=\"books\"\n        :pagination-options=\"{ enabled: true, perPage: 5 }\"\n        :search-options=\"{ enabled: true, placeholder: 'Search books...' }\"\n        :sort-options=\"{ enabled: true }\"\n    >\n      <template #table-row=\"props\">\n        <span v-if=\"props.column.field === 'actions'\">\n          <button\n              class=\"text-sm text-white bg-yellow-500 hover:bg-yellow-600 px-3 py-1 rounded mr-2\"\n              @click=\"editBook(props.row)\"\n          >\n            ‚úèÔ∏è Edit\n          </button>\n          <button\n              class=\"text-sm text-white bg-red-500 hover:bg-red-600 px-3 py-1 rounded\"\n              @click=\"deleteBook(props.row)\"\n          >\n            üóë Delete\n          </button>\n        </span>\n        <span v-else>\n          {{ props.formattedRow[props.column.field] }}\n        </span>\n      </template>\n    </vue-good-table>\n  </div>\n</template>\n\n<script>\nimport Api from '../Api.js';\n\nexport default {\n  name: 'BooksTable',\n  data() {\n    return {\n      books: [],\n      columns: [\n        { label: 'ID', field: 'id', type: 'number', sortable: true },\n        { label: 'Title', field: 'title', sortable: true },\n        { label: 'Author', field: 'authorFullName', sortable: true },\n        { label: 'Pages', field: 'pages', type: 'number', sortable: true },\n        { label: 'Actions', field: 'actions' }, // used for buttons\n      ],\n    };\n  },\n  mounted() {\n    this.fetchBooks();\n  },\n  methods: {\n    fetchBooks() {\n      Api.getBooks()\n          .then((response) => {\n            this.books = response.data.data.map((book) => ({\n              ...book,\n              authorFullName: `${book.author.name} ${book.author.surname}`,\n            }));\n          })\n          .catch((error) => {\n            console.error('Failed to fetch books:', error);\n          });\n    },\n    addBook() {\n      console.log('Add Book clicked');\n      // Open a modal or navigate to add form\n    },\n    editBook(book) {\n      console.log('Edit clicked:', book);\n      // Open a modal with book info\n    },\n    deleteBook(book) {\n      console.log('Delete clicked:', book);\n      // Confirm and call API to delete, then refetch\n    },\n  },\n};\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAoC;;EACxCA,KAAK,EAAC;AAAwC;;EAFvDC,GAAA;AAAA;mBAAA;mBAAA;;EAAAA,GAAA;AAAA;;;uBACEC,mBAAA,CAsCM,OAtCNC,UAsCM,GArCJC,mBAAA,CAQM,OARNC,UAQM,G,0BAPJD,mBAAA,CAAgD;IAA5CJ,KAAK,EAAC;EAAoB,GAAC,cAAY,sBAC3CI,mBAAA,CAKS;IAJLJ,KAAK,EAAC,uEAAuE;IAC5EM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,OAAA,IAAAD,QAAA,CAAAC,OAAA,IAAAF,IAAA,CAAO;KAClB,cAED,E,GAGFG,YAAA,CA0BiBC,yBAAA;IAzBZC,OAAO,EAAEC,KAAA,CAAAD,OAAO;IAChBE,IAAI,EAAED,KAAA,CAAAE,KAAK;IACX,oBAAkB,EAAE;MAAAC,OAAA;MAAAC,OAAA;IAAA,CAA6B;IACjD,gBAAc,EAAE;MAAAD,OAAA;MAAAE,WAAA;IAAA,CAAiD;IACjE,cAAY,EAAE;MAAAF,OAAA;IAAA;;IAEN,WAAS,EAAAG,QAAA,CAcXC,KAdkB,KACbA,KAAK,CAACC,MAAM,CAACC,KAAK,kB,cAA9BrB,mBAAA,CAaO,QAjCfsB,UAAA,GAqBUpB,mBAAA,CAKS;MAJLJ,KAAK,EAAC,6EAA6E;MAClFM,OAAK,EAAAmB,MAAA,IAAEhB,QAAA,CAAAiB,QAAQ,CAACL,KAAK,CAACM,GAAG;OAC7B,WAED,iBA1BVC,UAAA,GA2BUxB,mBAAA,CAKS;MAJLJ,KAAK,EAAC,kEAAkE;MACvEM,OAAK,EAAAmB,MAAA,IAAEhB,QAAA,CAAAoB,UAAU,CAACR,KAAK,CAACM,GAAG;OAC/B,aAED,iBAhCVG,UAAA,E,oBAkCQ5B,mBAAA,CAEO,QApCf6B,UAAA,EAAAC,gBAAA,CAmCaX,KAAK,CAACY,YAAY,CAACZ,KAAK,CAACC,MAAM,CAACC,KAAK,mB;IAnClDW,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}