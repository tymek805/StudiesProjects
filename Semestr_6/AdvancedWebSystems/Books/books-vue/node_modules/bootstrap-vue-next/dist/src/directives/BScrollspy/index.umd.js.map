{"version":3,"file":"index.umd.js","sources":["../../../../src/directives/BScrollspy/index.ts"],"sourcesContent":["import {type Directive, type DirectiveBinding} from 'vue'\nimport {useScrollspy} from '../../composables/useScrollspy'\nimport {omit} from '../../utils/object'\n\nexport interface ElementWithScrollspy extends HTMLElement {\n  $__scrollspy?: ReturnType<typeof useScrollspy>\n}\n\nconst bind = (el: ElementWithScrollspy, binding: Readonly<DirectiveBinding>) => {\n  if (el.$__scrollspy) el.$__scrollspy.cleanup()\n  const {arg, value} = binding\n  const isObject = typeof value === 'object' && value !== null\n  const content = arg\n    ? arg\n    : typeof value === 'string'\n      ? value\n      : isObject\n        ? value.content || value.element\n        : null\n  el.$__scrollspy = useScrollspy(content, el, isObject ? omit(value, ['content', 'element']) : {})\n}\n\nexport const vBScrollspy: Directive<ElementWithScrollspy> = {\n  mounted: bind,\n  updated: bind,\n  beforeUnmount(el) {\n    if (el.$__scrollspy) el.$__scrollspy.cleanup()\n  },\n}\n"],"names":["bind","el","binding","$__scrollspy","cleanup","arg","value","isObject","content","element","useScrollspy","omit","vBScrollspy","mounted","updated","beforeUnmount"],"mappings":"uMAQMA,EAAO,CAACC,EAA0BC,KAClCD,EAAGE,cAAiBF,EAAAE,aAAaC,UAC/B,MAAAC,IAACA,EAAKC,MAAAA,GAASJ,EACfK,EAA4B,iBAAVD,GAAgC,OAAVA,EACxCE,EAAUH,IAEK,iBAAVC,EACLA,EACAC,EACED,EAAME,SAAWF,EAAMG,QACvB,MACRR,EAAGE,aAAeO,EAAAA,aAAaF,EAASP,EAAIM,EAAWI,OAAKL,EAAO,CAAC,UAAW,YAAc,CAAA,EAAE,EAGpFM,EAA+C,CAC1DC,QAASb,EACTc,QAASd,EACT,aAAAe,CAAcd,GACRA,EAAGE,cAAiBF,EAAAE,aAAaC,SAAQ"}