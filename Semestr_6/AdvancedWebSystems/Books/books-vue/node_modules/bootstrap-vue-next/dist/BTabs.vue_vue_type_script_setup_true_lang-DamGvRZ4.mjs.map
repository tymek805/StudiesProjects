{"version":3,"file":"BTabs.vue_vue_type_script_setup_true_lang-DamGvRZ4.mjs","sources":["../src/components/BTabs/BTab.vue","../src/components/BTabs/BTabs.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"props.tag\"\n    :id=\"computedId\"\n    ref=\"_el\"\n    class=\"tab-pane\"\n    :class=\"computedClasses\"\n    role=\"tabpanel\"\n    :aria-labelledby=\"computedButtonId\"\n    v-bind=\"processedAttrs.tabAttrs\"\n  >\n    <slot v-if=\"showSlot\" />\n  </component>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, inject, onMounted, onUnmounted, ref, useAttrs, useTemplateRef, watch} from 'vue'\nimport {useId} from '../../composables/useId'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {TabType} from '../../types/Tab'\nimport type {BTabProps} from '../../types/ComponentProps'\nimport {tabsInjectionKey} from '../../utils/keys'\n\nconst _props = withDefaults(defineProps<Omit<BTabProps, 'active'>>(), {\n  buttonId: undefined,\n  disabled: false,\n  id: undefined,\n  lazy: undefined,\n  lazyOnce: undefined,\n  noBody: false,\n  tag: 'div',\n  title: undefined,\n  titleItemClass: undefined,\n  titleLinkAttrs: undefined,\n  titleLinkClass: undefined,\n})\nconst props = useDefaults(_props, 'BTab')\n\nconst slots = defineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  default?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  title?: (props: Record<string, never>) => any\n}>()\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst activeModel = defineModel<Exclude<BTabProps['active'], undefined>>('active', {\n  default: false,\n})\n\nconst parentData = inject(tabsInjectionKey, null)\nconst computedId = useId(() => props.id, 'tabpane')\nconst computedButtonId = useId(() => props.buttonId, 'tab')\n\nconst lazyRenderCompleted = ref(false)\nconst el = useTemplateRef<HTMLElement>('_el')\n\nconst attrs = useAttrs()\nconst processedAttrs = computed(() => {\n  const {onClick, ...tabAttrs} = attrs\n  return {onClick, tabAttrs}\n})\n\nconst tab = computed(\n  () =>\n    ({\n      id: computedId.value,\n      buttonId: computedButtonId.value,\n      disabled: props.disabled,\n      title: props.title,\n      titleComponent: slots.title,\n      titleItemClass: () => props.titleItemClass,\n      titleLinkAttrs: () => props.titleLinkAttrs,\n      titleLinkClass: () => props.titleLinkClass,\n      onClick: processedAttrs.value.onClick,\n      el: el.value,\n    }) as TabType\n)\n\nonMounted(() => {\n  if (!parentData) return\n  parentData.registerTab(tab)\n  if (activeModel.value) {\n    parentData.activateTab(computedId.value)\n  }\n})\n\nonUnmounted(() => {\n  if (!parentData) return\n  parentData.unregisterTab(computedId.value)\n})\n\nconst isActive = computed(() => parentData?.activeId.value === computedId.value)\nconst show = ref(isActive.value)\n\nconst computedLazy = computed(() => !!(parentData?.lazy.value || (props.lazyOnce ?? props.lazy)))\nconst computedLazyOnce = computed(() => props.lazyOnce !== undefined)\n\nconst computedActive = computed(() => isActive.value && !props.disabled)\nconst showSlot = computed(\n  () =>\n    computedActive.value ||\n    !computedLazy.value ||\n    (computedLazy.value && computedLazyOnce.value && lazyRenderCompleted.value)\n)\n\nwatch(isActive, (active) => {\n  if (active) {\n    activeModel.value = true\n    setTimeout(() => {\n      show.value = true\n    }, 0)\n    return\n  }\n  show.value = false\n  activeModel.value = false\n})\nwatch(activeModel, (active) => {\n  if (!parentData) return\n  if (!active) {\n    if (isActive.value) {\n      parentData.activateTab(undefined)\n    }\n    return\n  }\n  parentData.activateTab(computedId.value)\n})\n\nconst computedClasses = computed(() => [\n  {\n    'active': isActive.value,\n    'show': show.value,\n    'card-body': parentData?.card.value && props.noBody === false,\n    'fade': !parentData?.noFade.value,\n  },\n  show.value ? parentData?.activeTabClass.value : parentData?.inactiveTabClass.value,\n  parentData?.tabClass.value,\n])\n\nwatch(showSlot, (shown) => {\n  if (shown && !lazyRenderCompleted.value) lazyRenderCompleted.value = true\n})\n</script>\n","<template>\n  <component :is=\"props.tag\" :id=\"props.id\" class=\"tabs\" :class=\"computedClasses\">\n    <ReusableEmptyTab.define>\n      <div class=\"tab-content\" :class=\"props.contentClass\">\n        <slot />\n        <div\n          v-if=\"showEmpty\"\n          key=\"bv-empty-tab\"\n          class=\"tab-pane active\"\n          :class=\"{'card-body': props.card}\"\n        >\n          <slot name=\"empty\" />\n        </div>\n      </div>\n    </ReusableEmptyTab.define>\n\n    <ReusableEmptyTab.reuse v-if=\"props.end\" />\n    <div\n      :class=\"[\n        props.navWrapperClass,\n        {'card-header': props.card, 'ms-auto': vertical && props.end},\n      ]\"\n    >\n      <ul\n        class=\"nav\"\n        :class=\"[navTabsClasses, props.navClass]\"\n        role=\"tablist\"\n        :aria-orientation=\"props.vertical ? 'vertical' : 'horizontal'\"\n      >\n        <slot name=\"tabs-start\" />\n        <li\n          v-for=\"(tab, idx) in tabs\"\n          :key=\"tab.id\"\n          class=\"nav-item\"\n          :class=\"tab.titleItemClass?.()\"\n          role=\"presentation\"\n        >\n          <button\n            :id=\"tab.buttonId\"\n            class=\"nav-link\"\n            :class=\"[tab.navItemClasses, tab.titleLinkClass?.()]\"\n            role=\"tab\"\n            :aria-controls=\"tab.id\"\n            :aria-selected=\"tab.active\"\n            :tabindex=\"props.noKeyNav ? undefined : tab.active ? undefined : -1\"\n            v-bind=\"tab.titleLinkAttrs?.()\"\n            @keydown.left.exact=\"!props.vertical && keynav($event, -1)\"\n            @keydown.left.shift=\"!props.vertical && keynav($event, -999)\"\n            @keydown.up.exact=\"props.vertical && keynav($event, -1)\"\n            @keydown.up.shift=\"props.vertical && keynav($event, -999)\"\n            @keydown.right.exact=\"!props.vertical && keynav($event, 1)\"\n            @keydown.right.shift=\"!props.vertical && keynav($event, 999)\"\n            @keydown.down.exact=\"props.vertical && keynav($event, 1)\"\n            @keydown.down.shift=\"props.vertical && keynav($event, 999)\"\n            @keydown.page-up=\"keynav($event, -999)\"\n            @keydown.page-down=\"keynav($event, 999)\"\n            @keydown.home=\"keynav($event, -999)\"\n            @keydown.end=\"keynav($event, 999)\"\n            @click.stop.prevent=\"(e) => handleClick(e, idx)\"\n          >\n            <component :is=\"tab.titleComponent\" v-if=\"tab.titleComponent\" />\n            <template v-else>\n              {{ tab.title }}\n            </template>\n          </button>\n        </li>\n        <slot name=\"tabs-end\" />\n      </ul>\n    </div>\n    <ReusableEmptyTab.reuse v-if=\"!props.end\" />\n  </component>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, nextTick, provide, type Ref, ref, toRef, unref, watch} from 'vue'\nimport {BvEvent} from '../../utils/classes'\nimport {useAlignment} from '../../composables/useAlignment'\nimport {createReusableTemplate} from '@vueuse/core'\nimport type {TabType} from '../../types/Tab'\nimport type {BTabsProps} from '../../types/ComponentProps'\nimport {tabsInjectionKey} from '../../utils/keys'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {sortSlotElementsByPosition} from '../../utils/dom'\n\nconst _props = withDefaults(defineProps<Omit<BTabsProps, 'modelValue' | 'activeId'>>(), {\n  activeNavItemClass: undefined,\n  activeTabClass: undefined,\n  align: undefined,\n  card: false,\n  contentClass: undefined,\n  end: false,\n  fill: false,\n  id: undefined,\n  inactiveNavItemClass: undefined,\n  inactiveTabClass: undefined,\n  justified: false,\n  lazy: false,\n  navClass: undefined,\n  navItemClass: undefined,\n  navWrapperClass: undefined,\n  noFade: false,\n  noKeyNav: false,\n  noNavStyle: false,\n  pills: false,\n  small: false,\n  tag: 'div',\n  tabClass: undefined,\n  underline: false,\n  vertical: false,\n})\nconst props = useDefaults(_props, 'BTabs')\n\nconst emit = defineEmits<{\n  'activate-tab': [v1: number, v2: number, v3: BvEvent]\n  'click': [] // TODO click event is never used\n}>()\n\ndefineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'default'?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'empty'?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'tabs-end'?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  'tabs-start'?: (props: Record<string, never>) => any\n}>()\n\nconst modelValue = defineModel<Exclude<BTabsProps['modelValue'], undefined>>({\n  default: -1,\n})\nconst activeId = defineModel<BTabsProps['activeId']>('activeId', {\n  default: undefined,\n})\n\nconst ReusableEmptyTab = createReusableTemplate()\n\nconst tabsInternal = ref<Ref<TabType>[]>([])\n\nconst tabs = computed(() =>\n  tabsInternal.value.map((_tab) => {\n    const tab = unref(_tab)\n    const active = tab.id === activeId.value\n\n    return {\n      ...tab,\n      active,\n      navItemClasses: [\n        {\n          active,\n          disabled: tab.disabled,\n        },\n        active ? props.activeNavItemClass : props.inactiveNavItemClass,\n        props.navItemClass,\n      ],\n    }\n  })\n)\n\nconst showEmpty = computed(() => !(tabs?.value && tabs.value.length > 0))\n\nconst computedClasses = computed(() => ({\n  'd-flex': props.vertical,\n  'align-items-start': props.vertical,\n}))\n\nconst alignment = useAlignment(() => props.align)\n\nconst navTabsClasses = computed(() => ({\n  'nav-pills': props.pills,\n  'nav-underline': props.underline,\n  'flex-column me-3': props.vertical,\n  [alignment.value]: props.align !== undefined,\n  'nav-fill': props.fill,\n  'card-header-tabs': props.card && !props.pills && !props.underline,\n  'card-header-pills': props.card && props.pills,\n  'nav-justified': props.justified,\n  'nav-tabs': !props.noNavStyle && !props.pills && !props.underline,\n  'small': props.small,\n}))\n\nconst activateTab = (index: number): void => {\n  if (index !== undefined) {\n    const id = tabs.value[index]?.id\n    if (\n      index > -1 &&\n      index < tabs.value.length &&\n      !tabs.value[index].disabled &&\n      (modelValue.value < 0 || activeId.value !== id || modelValue.value !== index)\n    ) {\n      const tabEvent = new BvEvent('activate-tab', {cancelable: true})\n      emit('activate-tab', index, modelValue.value, tabEvent)\n      if (!tabEvent.defaultPrevented) {\n        if (activeId.value !== id) activeId.value = id\n        if (modelValue.value !== index) modelValue.value = index\n      }\n    }\n  }\n}\n\nconst handleClick = (event: Readonly<MouseEvent>, index: number) => {\n  activateTab(index)\n  if (\n    index >= 0 &&\n    !tabs.value[index].disabled &&\n    tabs.value[index]?.onClick &&\n    typeof tabs.value[index].onClick === 'function'\n  ) {\n    tabs.value[index].onClick?.(event)\n  }\n}\n\nconst keynav = (e: Event, direction: number) => {\n  if (tabs.value.length <= 0 || props.noKeyNav) return\n  e.preventDefault()\n  e.stopPropagation()\n  modelValue.value = nextIndex(modelValue.value + direction, direction)\n  document.getElementById(tabs.value[modelValue.value]?.buttonId)?.focus()\n}\n\nconst nextIndex = (start: number, direction: number) => {\n  let index = start\n  let minIdx = -1\n  let maxIdx = -1\n\n  for (let i = 0; i < tabs.value.length; i++) {\n    if (!tabs.value[i].disabled) {\n      if (minIdx === -1) minIdx = i\n      maxIdx = i\n    }\n  }\n\n  while (index >= minIdx && index <= maxIdx && tabs.value[index].disabled) {\n    index += direction\n  }\n\n  if (index < minIdx) index = minIdx\n  if (index > maxIdx) index = maxIdx\n\n  return index\n}\n\nwatch(modelValue, (newValue, oldValue) => {\n  if (newValue === oldValue) return\n  if (tabs.value.length <= 0) {\n    return\n  }\n\n  const index = nextIndex(newValue, newValue > oldValue ? 1 : -1)\n  nextTick(() => {\n    activateTab(index)\n  })\n})\n\nwatch(activeId, (newValue, oldValue) => {\n  const index = tabs.value.findIndex((t) => t.id === newValue)\n  if (newValue === oldValue) return\n  if (tabs.value.length <= 0) {\n    return\n  }\n  if (index === -1) {\n    activateTab(nextIndex(0, 1))\n    return\n  }\n  activateTab(index)\n})\n\nconst registerTab = (tab: Ref<TabType>) => {\n  if (!tabsInternal.value.find((t) => t.value.id === tab.value.id)) {\n    tabsInternal.value.push(tab)\n  } else {\n    tabsInternal.value[tabsInternal.value.findIndex((t) => t.value.id === tab.value.id)] = tab\n  }\n  tabsInternal.value.sort((a, b) => sortSlotElementsByPosition(a.value.el, b.value.el))\n}\nconst unregisterTab = (id: string) => {\n  tabsInternal.value = tabsInternal.value.filter((t) => t.value.id !== id)\n}\n\nwatch(\n  tabsInternal,\n  () => {\n    findActive()\n  },\n  {deep: true}\n)\n\nconst findActive = () => {\n  if (tabs.value.length === 0) {\n    modelValue.value = -1\n    activeId.value = undefined\n    return\n  }\n  if (modelValue.value >= 0 && !activeId.value) {\n    activeId.value = tabs.value[modelValue.value]?.id\n  }\n  if (tabs.value.find((t) => t.id === activeId.value)) {\n    activateTab(tabs.value.findIndex((t) => t.id === activeId.value))\n    return\n  }\n  activateTab(tabs.value.map((tab) => !tab.disabled).indexOf(true))\n}\n\nprovide(tabsInjectionKey, {\n  lazy: toRef(() => props.lazy),\n  card: toRef(() => props.card),\n  noFade: toRef(() => props.noFade),\n  activeTabClass: toRef(() => props.activeTabClass),\n  inactiveTabClass: toRef(() => props.inactiveTabClass),\n  tabClass: toRef(() => props.tabClass),\n  registerTab,\n  unregisterTab,\n  activeId,\n  activateTab: (id) => {\n    const idx = tabs.value.findIndex((t) => t.id === id)\n    if (id === undefined || idx === -1) {\n      activateTab(nextIndex(0, 1))\n      return\n    }\n    activateTab(idx)\n  },\n})\n</script>\n"],"names":["_useSlots","_useModel"],"mappings":"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"}