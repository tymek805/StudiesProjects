"use strict";const e=require("./index-DSoA9-GW.js"),t=require("vue"),o=require("./keys-C2BcfuxJ.js"),n=require("./index-D8BEsrjv.js"),l="modal-open",s=()=>{const s=t.inject(o.modalManagerPluginKey),u=e.getSSRHandler("updateHTMLAttrs",((t,o,n)=>{const s="string"==typeof t?null==window?void 0:window.document.querySelector(t):e.unrefElement(t);s&&("class"===o?s.classList.toggle(l,n===l):s.setAttribute(o,n))}));return n.tryOnScopeDispose((()=>{u("body","class","")})),t.watch((()=>null==s?void 0:s.countStack.value),(e=>{void 0!==e&&u("body","class",e>0?l:"")})),{...s,dispose:e=>{null==s||s.removeStack(e),null==s||s.removeRegistry(e)}}};exports.useModalManager=(e,o)=>{const{pushRegistry:l,pushStack:u,removeStack:r,stack:a,dispose:i,countStack:d}=s(),c=t.getCurrentInstance();if(!c||"BModal"!==c.type.__name)throw new Error("useModalManager must only use in BModal component");null==l||l(c),n.tryOnScopeDispose((()=>{i(c)}));const p=(e,t)=>{e?null==u||u(c):t&&!e&&(null==r||r(c))};return p(o,o),t.watch(e,p),{activePosition:t.computed((()=>null==a?void 0:a.value.findIndex((e=>{var o,n;return t.toValue(null==(o=e.exposed)?void 0:o.id)===t.toValue(null==(n=c.exposed)?void 0:n.id)})))),activeModalCount:d,stackWithoutSelf:t.computed((()=>(null==a?void 0:a.value.filter((e=>{var o,n;return t.toValue(null==(o=e.exposed)?void 0:o.id)!==t.toValue(null==(n=c.exposed)?void 0:n.id)})))??[]))}},exports.useSharedModalStack=s;
//# sourceMappingURL=useModalManager-WhhGC3UC.js.map
