{"version":3,"file":"BAccordionItem.vue_vue_type_script_setup_true_lang-BAMvJL5e.mjs","sources":["../src/components/BAccordion/BAccordion.vue","../src/components/BAccordion/BAccordionItem.vue"],"sourcesContent":["<template>\n  <div :id=\"computedId\" class=\"accordion\" :class=\"computedClasses\">\n    <slot />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, provide, readonly, toRef} from 'vue'\nimport {accordionInjectionKey} from '../../utils/keys'\nimport {useId} from '../../composables/useId'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BAccordionProps} from '../../types/ComponentProps'\n\nconst _props = withDefaults(defineProps<Omit<BAccordionProps, 'modelValue'>>(), {\n  flush: false,\n  free: false,\n  initialAnimation: false,\n  id: undefined,\n  lazy: false,\n  unmountLazy: false,\n})\n\ndefineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  default?: (props: Record<string, never>) => any\n}>()\n\nconst props = useDefaults(_props, 'BAccordion')\n\nconst modelValue = defineModel<BAccordionProps['modelValue']>({\n  default: undefined,\n})\n\nconst computedId = useId(() => props.id, 'accordion')\n\nconst computedClasses = computed(() => ({\n  'accordion-flush': props.flush,\n}))\n\nprovide(accordionInjectionKey, {\n  openItem: readonly(modelValue),\n  free: toRef(() => props.free),\n  initialAnimation: toRef(() => props.initialAnimation),\n  lazy: toRef(() => props.lazy),\n  unmountLazy: toRef(() => props.unmountLazy),\n  setOpenItem: (id: string) => {\n    modelValue.value = id\n  },\n})\n</script>\n","<template>\n  <div class=\"accordion-item\" v-bind=\"props.wrapperAttrs\" :class=\"processedAttrs.wrapperClass\">\n    <BCollapse\n      :id=\"computedId\"\n      v-model=\"modelValue\"\n      class=\"accordion-collapse\"\n      :class=\"props.collapseClass\"\n      :aria-labelledby=\"`${computedId}-heading`\"\n      v-bind=\"processedAttrs.collapseAttrs\"\n      :tag=\"props.tag\"\n      :show=\"props.show\"\n      :horizontal=\"props.horizontal\"\n      :visible=\"props.visible\"\n      :is-nav=\"props.isNav\"\n      :lazy=\"props.lazy || parentData?.lazy.value\"\n      :unmount-lazy=\"props.unmountLazy || parentData?.unmountLazy.value\"\n      @show=\"emit('show', $event)\"\n      @shown=\"emit('shown', $event)\"\n      @hide=\"emit('hide', $event)\"\n      @hidden=\"emit('hidden', $event)\"\n      @hide-prevented=\"emit('hide-prevented', $event)\"\n      @show-prevented=\"emit('show-prevented', $event)\"\n      @toggle-prevented=\"emit('toggle-prevented', $event)\"\n      @toggle=\"emit('toggle', $event)\"\n    >\n      <template #header=\"{visible: toggleVisible, toggle: slotToggle}\">\n        <component\n          :is=\"props.headerTag\"\n          :id=\"`${computedId}-heading`\"\n          class=\"accordion-header\"\n          :class=\"props.headerClass\"\n          v-bind=\"props.headerAttrs\"\n        >\n          <button\n            class=\"accordion-button\"\n            v-bind=\"props.buttonAttrs\"\n            :class=\"[{collapsed: !toggleVisible}, props.buttonClass]\"\n            type=\"button\"\n            :aria-expanded=\"toggleVisible ? 'true' : 'false'\"\n            :aria-controls=\"computedId\"\n            @click=\"slotToggle\"\n          >\n            <slot name=\"title\"> {{ props.title }} </slot>\n          </button>\n        </component>\n      </template>\n      <div class=\"accordion-body\" v-bind=\"props.bodyAttrs\" :class=\"props.bodyClass\">\n        <slot />\n      </div>\n    </BCollapse>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, inject, nextTick, onMounted, useAttrs, watch} from 'vue'\nimport BCollapse from '../BCollapse/BCollapse.vue'\nimport {accordionInjectionKey} from '../../utils/keys'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useId} from '../../composables/useId'\nimport type {BAccordionItemProps} from '../../types/ComponentProps'\nimport type {showHideEmits} from '../../composables/useShowHide'\n\ndefineOptions({\n  inheritAttrs: false,\n})\nconst attrs = useAttrs()\nconst processedAttrs = computed(() => {\n  const {class: wrapperClass, ...collapseAttrs} = attrs\n  return {wrapperClass, collapseAttrs}\n})\n\nconst _props = withDefaults(defineProps<Omit<BAccordionItemProps, 'modelValue'>>(), {\n  bodyAttrs: undefined,\n  bodyClass: undefined,\n  buttonAttrs: undefined,\n  buttonClass: undefined,\n  collapseClass: undefined,\n  headerAttrs: undefined,\n  headerClass: undefined,\n  headerTag: 'h2',\n  horizontal: undefined,\n  id: undefined,\n  isNav: undefined,\n  lazy: false,\n  unmountLazy: false,\n  tag: undefined,\n  title: undefined,\n  show: undefined,\n  visible: false,\n  wrapperAttrs: undefined,\n})\nconst props = useDefaults(_props, 'BAccordionItem')\n\nconst emit = defineEmits<showHideEmits>()\n\ndefineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  default?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  title?: (props: Record<string, never>) => any\n}>()\n\nconst parentData = inject(accordionInjectionKey, null)\n\nconst computedId = useId(() => props.id, 'accordion_item')\n\nconst modelValue = defineModel<Exclude<BAccordionItemProps['modelValue'], undefined>>({\n  default: false,\n})\n\nmodelValue.value =\n  parentData?.openItem.value === computedId.value && !parentData?.initialAnimation.value\n\nif (modelValue.value && !parentData?.free.value) {\n  parentData?.setOpenItem(computedId.value)\n}\n\nonMounted(() => {\n  if (!modelValue.value && parentData?.openItem.value === computedId.value) {\n    nextTick(() => {\n      modelValue.value = true\n    })\n  }\n})\n\nwatch(\n  () => parentData?.openItem.value,\n  () =>\n    (modelValue.value = parentData?.openItem.value === computedId.value && !parentData?.free.value)\n)\nwatch(modelValue, () => {\n  if (modelValue.value && !parentData?.free.value) parentData?.setOpenItem(computedId.value)\n})\n</script>\n"],"names":["_useModel"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAaA,UAAM,SAAS;AAcT,UAAA,QAAQ,YAAY,QAAQ,YAAY;AAExC,UAAA,aAAaA,SAElB,SAAA,YAAA;AAED,UAAM,aAAa,MAAM,MAAM,MAAM,IAAI,WAAW;AAE9C,UAAA,kBAAkB,SAAS,OAAO;AAAA,MACtC,mBAAmB,MAAM;AAAA,IAAA,EACzB;AAEF,YAAQ,uBAAuB;AAAA,MAC7B,UAAU,SAAS,UAAU;AAAA,MAC7B,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA,MAC5B,kBAAkB,MAAM,MAAM,MAAM,gBAAgB;AAAA,MACpD,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA,MAC5B,aAAa,MAAM,MAAM,MAAM,WAAW;AAAA,MAC1C,aAAa,CAAC,OAAe;AAC3B,mBAAW,QAAQ;AAAA,MAAA;AAAA,IACrB,CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiBD,UAAM,QAAQ,SAAS;AACjB,UAAA,iBAAiB,SAAS,MAAM;AACpC,YAAM,EAAC,OAAO,cAAc,GAAG,cAAiB,IAAA;AACzC,aAAA,EAAC,cAAc,cAAa;AAAA,IAAA,CACpC;AAED,UAAM,SAAS;AAoBT,UAAA,QAAQ,YAAY,QAAQ,gBAAgB;AAElD,UAAM,OAAO;AASP,UAAA,aAAa,OAAO,uBAAuB,IAAI;AAErD,UAAM,aAAa,MAAM,MAAM,MAAM,IAAI,gBAAgB;AAEnD,UAAA,aAAaA,SAElB,SAAA,YAAA;AAEU,eAAA,SACT,yCAAY,SAAS,WAAU,WAAW,SAAS,EAAC,yCAAY,iBAAiB;AAEnF,QAAI,WAAW,SAAS,EAAC,yCAAY,KAAK,QAAO;AACnC,+CAAA,YAAY,WAAW;AAAA,IAAK;AAG1C,cAAU,MAAM;AACd,UAAI,CAAC,WAAW,UAAS,yCAAY,SAAS,WAAU,WAAW,OAAO;AACxE,iBAAS,MAAM;AACb,qBAAW,QAAQ;AAAA,QAAA,CACpB;AAAA,MAAA;AAAA,IACH,CACD;AAED;AAAA,MACE,MAAM,yCAAY,SAAS;AAAA,MAC3B,MACG,WAAW,SAAQ,yCAAY,SAAS,WAAU,WAAW,SAAS,EAAC,yCAAY,KAAK;AAAA,IAC7F;AACA,UAAM,YAAY,MAAM;AAClB,UAAA,WAAW,SAAS,EAAC,yCAAY,KAAK,OAAO,0CAAY,YAAY,WAAW;AAAA,IAAK,CAC1F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}