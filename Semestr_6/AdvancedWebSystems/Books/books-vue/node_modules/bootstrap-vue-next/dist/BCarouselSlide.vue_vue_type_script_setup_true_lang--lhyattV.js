"use strict";const e=require("vue"),l=require("./classes-CXBJXuVd.js"),t=require("./useId-BOa4n5pr.js"),a=require("./index-DSoA9-GW.js"),o=require("./useDefaults-_waRUo1X.js"),r=require("./keys-C2BcfuxJ.js"),n=require("./index-D8BEsrjv.js"),u=require("./BImg.vue_vue_type_script_setup_true_lang-C9mkr0zQ.js"),i=require("./dom-Dzr6gmPm.js"),s=["id"],d=["aria-label","aria-owns"],c=["aria-current","aria-label","aria-controls","aria-describedby","onClick"],v={ref:"_relatedTarget",class:"carousel-inner"},f={class:"visually-hidden"},m={class:"visually-hidden"},p=e.defineComponent({__name:"BCarousel",props:e.mergeModels({background:{default:void 0},controls:{type:Boolean,default:!1},controlsNextText:{default:"Next"},controlsPrevText:{default:"Previous"},fade:{type:Boolean,default:!1},id:{default:void 0},imgHeight:{default:void 0},imgWidth:{default:void 0},indicators:{type:Boolean,default:!1},indicatorsButtonLabel:{default:"Slide"},interval:{default:5e3},labelIndicators:{default:"Select a slide to display"},keyboard:{type:Boolean,default:!0},noAnimation:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},noTouch:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1},ride:{type:[Boolean,String],default:!1},rideReverse:{type:Boolean,default:!1},touchThreshold:{default:50}},{modelValue:{default:0},modelModifiers:{}}),emits:e.mergeModels(["slide","slid","prev-click","next-click"],["update:modelValue"]),setup(u,{expose:i,emit:p}){const g=u,k=o.useDefaults(g,"BCarousel"),y=p,h=e.useSlots(),B=t.useId((()=>k.id),"carousel"),b=t.useId(void 0,"carousel-button-ownership"),_=e.useModel(u,"modelValue"),S=e.useTemplateRef("_slideValues"),C=n.useToNumber((()=>k.touchThreshold)),x=e.ref(null);e.onMounted((()=>{var e,l;x.value=(null==(l=null==(e=S.value)?void 0:e.find((e=>"none"!==e.$el.style.display)))?void 0:l._interval)??null}));const V=n.useToNumber((()=>x.value??k.interval)),E=e.ref(!1),T=e.ref(!1),w=e.ref(!0),N=e.useTemplateRef("_relatedTarget"),$=e.useTemplateRef("_element"),D=e.ref(_.value),j=a.useElementHover($),I=e.computed((()=>`carousel-item carousel-item-${w.value?"prev":"next"} carousel-item-${w.value?"end":"start"}`)),R=e.computed((()=>"carousel-item active carousel-item-"+(w.value?"start":"end"))),{pause:q,resume:A}=n.useIntervalFn((()=>{k.rideReverse?M():F()}),V,{immediate:"carousel"===k.ride}),L=e.computed((()=>!0===k.ride&&!0===T.value||"carousel"===k.ride)),H=e.computed((()=>{return e=h.default,l="BCarouselSlide",((null==e?void 0:e())??[]).reduce(((e,l)=>("symbol"==typeof l.type?e=e.concat(l.children):e.push(l),e)),[]).filter((e=>{var t;return(null==(t=e.type)?void 0:t.__name)===l}));var e,l})),P=e.computed((()=>({"carousel-fade":k.fade}))),W=e=>{var t;return new l.BvCarouselEvent(e,{componentId:B.value,cancelable:!1,target:$.value,direction:w.value?"right":"left",from:D.value,to:_.value,relatedTarget:(null==(t=N.value)?void 0:t.children[_.value])??null})},z=e=>{if(!0!==E.value)if(!0===k.ride&&(T.value=!0),!0===L.value&&A(),w.value=!(e<_.value),e>=H.value.length){if(k.noWrap)return;_.value=0}else if(e<0){if(k.noWrap)return;_.value=H.value.length-1}else D.value=_.value,_.value=e},M=()=>{z(_.value-1)},F=()=>{z(_.value+1)},K=e=>{!1!==k.keyboard&&e()},{lengthX:U}=a.useSwipe($,{passive:!0,onSwipeStart(){!0!==k.noTouch&&q()},onSwipeEnd(){if(!0===k.noTouch)return;const e=()=>{!1!==L.value&&A()};if(U.value>=C.value)return F(),void e();U.value<=-C.value&&(M(),e())}}),X=()=>{y("slide",W("slide")),E.value=!0},G=()=>{y("slid",W("slid")),E.value=!1},Z=e=>{0!==_.value&&e.classList.add("carousel-item")},J=e=>{var l,t;x.value=(null==(t=null==(l=S.value)?void 0:l.find((l=>l.$el===e)))?void 0:t._interval)??null};a.onKeyStroke("ArrowLeft",(()=>{K(M)}),{target:$}),a.onKeyStroke("ArrowRight",(()=>{K(F)}),{target:$}),e.watch((()=>k.ride),(()=>{T.value=!1})),e.watch(j,(e=>{e?k.noHoverPause||q():L.value&&A()}));const O=e=>{y("prev-click",e),e.defaultPrevented||M()},Q=e=>{y("next-click",e),e.defaultPrevented||F()};return i({next:F,pause:q,prev:M,resume:A}),e.provide(r.carouselInjectionKey,{background:e.toRef((()=>k.background)),width:e.toRef((()=>k.imgWidth)),height:e.toRef((()=>k.imgHeight))}),(l,t)=>(e.openBlock(),e.createElementBlock("div",{id:e.unref(B),ref:"_element",class:e.normalizeClass(["carousel slide pointer-event",P.value])},[e.unref(k).indicators?(e.openBlock(),e.createElementBlock("div",{key:0,class:"carousel-indicators","aria-label":e.unref(k).labelIndicators,"aria-owns":e.unref(b)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(H.value.length,((l,t)=>{var a;return e.openBlock(),e.createElementBlock("button",{key:t,type:"button","data-bs-target":"",class:e.normalizeClass(t===_.value?"active":""),"aria-current":t===_.value||void 0,"aria-label":`${e.unref(k).indicatorsButtonLabel} ${t}`,"aria-controls":e.unref(b),"aria-describedby":null==(a=e.unref(S))?void 0:a[t]._id,onClick:e=>z(t)},null,10,c)})),128))],8,d)):e.createCommentVNode("",!0),e.createElementVNode("div",v,[e.createVNode(e.TransitionGroup,{"enter-from-class":I.value,"enter-active-class":I.value,"enter-to-class":I.value,"leave-from-class":R.value,"leave-active-class":R.value,"leave-to-class":R.value,onBeforeLeave:X,onAfterLeave:G,onAfterEnter:Z,onEnter:J},{default:e.withCtx((()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(H.value,((l,t)=>e.withDirectives((e.openBlock(),e.createBlock(e.resolveDynamicComponent(l),{key:t,ref_for:!0,ref:"_slideValues",class:e.normalizeClass({active:t===_.value&&!1===E.value}),style:e.normalizeStyle(e.unref(k).noAnimation&&{transition:"none"})},null,8,["class","style"])),[[e.vShow,t===_.value]]))),128))])),_:1},8,["enter-from-class","enter-active-class","enter-to-class","leave-from-class","leave-active-class","leave-to-class"])],512),e.unref(k).controls?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{class:"carousel-control-prev",type:"button",onClick:O},[t[0]||(t[0]=e.createElementVNode("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1)),e.createElementVNode("span",f,e.toDisplayString(e.unref(k).controlsPrevText),1)]),e.createElementVNode("button",{class:"carousel-control-next",type:"button",onClick:Q},[t[1]||(t[1]=e.createElementVNode("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)),e.createElementVNode("span",m,e.toDisplayString(e.unref(k).controlsNextText),1)])],64)):e.createCommentVNode("",!0)],10,s))}}),g=["id"],k=e.defineComponent({__name:"BCarouselSlide",props:{background:{default:void 0},caption:{default:void 0},captionTag:{default:"h3"},contentTag:{default:"div"},contentVisibleUp:{default:void 0},id:{default:void 0},imgAlt:{default:void 0},imgBlank:{type:Boolean,default:!1},imgBlankColor:{default:"transparent"},imgHeight:{default:void 0},imgSrc:{default:void 0},imgSrcset:{default:void 0},imgWidth:{default:void 0},interval:{default:void 0},text:{default:void 0},textTag:{default:"p"}},setup(l,{expose:a}){const n=l,s=o.useDefaults(n,"BCarouselSlide"),d=e.useSlots(),c=t.useId((()=>s.id),"carousel-slide"),v=e.inject(r.carouselInjectionKey,null),f=e.computed((()=>s.text||!i.isEmptySlot(d.text))),m=e.computed((()=>s.caption||!i.isEmptySlot(d.caption))),p=e.computed((()=>f.value||m.value||!i.isEmptySlot(d.default))),k=e.computed((()=>({background:`${s.background||(null==v?void 0:v.background.value)||"rgb(171, 171, 171)"} none repeat scroll 0% 0%`}))),y=e.computed((()=>({"d-none":void 0!==s.contentVisibleUp,[`d-${s.contentVisibleUp}-block`]:void 0!==s.contentVisibleUp})));return a({_interval:e.toRef((()=>s.interval)),_id:c}),(l,t)=>(e.openBlock(),e.createElementBlock("div",{id:e.unref(c),class:"carousel-item",style:e.normalizeStyle(k.value)},[e.renderSlot(l.$slots,"img",{},(()=>{var l,t;return[e.createVNode(u._sfc_main,{class:"d-block w-100",alt:e.unref(s).imgAlt,srcset:e.unref(s).imgSrcset,src:e.unref(s).imgSrc,width:e.unref(s).imgWidth||(null==(l=e.unref(v))?void 0:l.width.value),height:e.unref(s).imgHeight||(null==(t=e.unref(v))?void 0:t.height.value),blank:e.unref(s).imgBlank,"blank-color":e.unref(s).imgBlankColor},null,8,["alt","srcset","src","width","height","blank","blank-color"])]})),p.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(s).contentTag),{key:0,class:e.normalizeClass(["carousel-caption",y.value])},{default:e.withCtx((()=>[m.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(s).captionTag),{key:0},{default:e.withCtx((()=>[e.renderSlot(l.$slots,"caption",{},(()=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(s).caption),1)]))])),_:3})):e.createCommentVNode("",!0),f.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(s).textTag),{key:1},{default:e.withCtx((()=>[e.renderSlot(l.$slots,"text",{},(()=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(s).text),1)]))])),_:3})):e.createCommentVNode("",!0),e.renderSlot(l.$slots,"default")])),_:3},8,["class"])):e.createCommentVNode("",!0)],12,g))}});exports._sfc_main=p,exports._sfc_main$1=k;
//# sourceMappingURL=BCarouselSlide.vue_vue_type_script_setup_true_lang--lhyattV.js.map
