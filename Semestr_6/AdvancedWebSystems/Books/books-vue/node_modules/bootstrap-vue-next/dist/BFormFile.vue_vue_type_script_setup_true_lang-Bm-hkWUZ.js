"use strict";const e=require("vue"),l=require("./index-DSoA9-GW.js"),a=require("./useDefaults-_waRUo1X.js"),t=require("./useId-BOa4n5pr.js"),u=require("./useStateClass-BePLKIel.js"),o=require("./dom-Dzr6gmPm.js"),r=["for"],i=["id","form","name","multiple","disabled","capture","accept","required","aria-label","aria-labelledby","aria-required","directory","webkitdirectory"],n=e.defineComponent({inheritAttrs:!1,__name:"BFormFile",props:e.mergeModels({ariaLabel:{default:void 0},ariaLabelledby:{default:void 0},accept:{default:""},autofocus:{type:Boolean,default:!1},capture:{type:[Boolean,String],default:void 0},directory:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{default:void 0},id:{default:void 0},label:{default:""},labelClass:{default:void 0},multiple:{type:Boolean,default:!1},name:{default:void 0},noButton:{type:Boolean,default:!1},noDrop:{type:Boolean,default:!1},noTraverse:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:null}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(n,{expose:d}){const s=e.useSlots(),f=n,p=a.useDefaults(f,"BFormFile"),c=e.useModel(n,"modelValue"),m=t.useId((()=>p.id)),v=u.useStateClass((()=>p.state)),b=e.useTemplateRef("_input"),{focused:y}=l.useFocus(b,{initialValue:p.autofocus}),B=e.computed((()=>!o.isEmptySlot(s.label))),q=e.computed((()=>"string"==typeof p.accept?p.accept:p.accept.join(","))),C=e.computed((()=>[v.value,{[`form-control-${p.size}`]:void 0!==p.size,"form-control":!p.plain,"form-control-input-file-hide-button":p.noButton}])),g=()=>{var e,l;const a=null===(null==(e=b.value)?void 0:e.files)||void 0===(null==(l=b.value)?void 0:l.files)?null:[...b.value.files];c.value=null===a?null:!0===p.multiple?a:a[0]},k=e=>{!0===p.noDrop&&e.preventDefault()};return e.watch(c,(e=>{null===e&&null!==b.value&&(b.value.value="")})),d({blur:()=>{y.value=!1},element:b,focus:()=>{y.value=!0},reset:()=>{c.value=null}}),(l,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[B.value||e.unref(p).label?(e.openBlock(),e.createElementBlock("label",{key:0,class:e.normalizeClass(["form-label",e.unref(p).labelClass]),for:e.unref(m)},[e.renderSlot(l.$slots,"label",{},(()=>[e.createTextVNode(e.toDisplayString(e.unref(p).label),1)]))],10,r)):e.createCommentVNode("",!0),e.createElementVNode("input",e.mergeProps({id:e.unref(m)},l.$attrs,{ref:"_input",type:"file",class:C.value,form:e.unref(p).form,name:e.unref(p).name,multiple:e.unref(p).multiple,disabled:e.unref(p).disabled,capture:e.unref(p).capture,accept:q.value||void 0,required:e.unref(p).required||void 0,"aria-label":e.unref(p).ariaLabel,"aria-labelledby":e.unref(p).ariaLabelledby,"aria-required":e.unref(p).required||void 0,directory:e.unref(p).directory,webkitdirectory:e.unref(p).directory,onChange:g,onDrop:k}),null,16,i)],64))}});exports._sfc_main=n;
//# sourceMappingURL=BFormFile.vue_vue_type_script_setup_true_lang-Bm-hkWUZ.js.map
