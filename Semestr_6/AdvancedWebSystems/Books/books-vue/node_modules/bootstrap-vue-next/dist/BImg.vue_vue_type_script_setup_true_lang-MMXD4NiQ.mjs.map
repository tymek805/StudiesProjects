{"version":3,"file":"BImg.vue_vue_type_script_setup_true_lang-MMXD4NiQ.mjs","sources":["../src/components/BImg/BImg.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"props.tag\"\n    :class=\"computedClasses\"\n    class=\"b-img\"\n    :src=\"!props.blank ? props.src : computedBlankImgSrc\"\n    :width=\"computedDimentions.width || undefined\"\n    :height=\"computedDimentions.height || undefined\"\n    :srcset=\"!props.blank ? computedSrcset : undefined\"\n    :sizes=\"!props.blank ? computedSizes : undefined\"\n    :loading=\"props.lazy ? 'lazy' : 'eager'\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport type {BImgProps} from '../../types/ComponentProps'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {computed} from 'vue'\nimport {useToNumber} from '@vueuse/core'\nimport {useRadiusElementClasses} from '../../composables/useRadiusElementClasses'\n\nconst _props = withDefaults(defineProps<BImgProps>(), {\n  blank: false,\n  blankColor: 'transparent',\n  block: false,\n  fluid: false,\n  fluidGrow: false,\n  height: undefined,\n  lazy: false,\n  sizes: undefined,\n  tag: 'img',\n  src: undefined,\n  srcset: undefined,\n  placement: undefined,\n  thumbnail: false,\n  width: undefined,\n  // RadiusElementExtendables props\n  rounded: false,\n  roundedBottom: undefined,\n  roundedEnd: undefined,\n  roundedStart: undefined,\n  roundedTop: undefined,\n  // End RadiusElementExtendables props\n})\nconst props = useDefaults(_props, 'BImg')\n\nconst heightNumber = useToNumber(() => props.height ?? NaN)\nconst widthNumber = useToNumber(() => props.width ?? NaN)\n\nconst radiusElementClasses = useRadiusElementClasses(() => ({\n  rounded: props.rounded,\n  roundedTop: props.roundedTop,\n  roundedBottom: props.roundedBottom,\n  roundedStart: props.roundedStart,\n  roundedEnd: props.roundedEnd,\n}))\n\nconst computedSrcset = computed(() =>\n  typeof props.srcset === 'string'\n    ? props.srcset\n        .split(',')\n        .filter((x) => x)\n        .join(',')\n    : Array.isArray(props.srcset)\n      ? props.srcset.filter((x) => x).join(',')\n      : undefined\n)\n\nconst computedSizes = computed(() =>\n  typeof props.sizes === 'string'\n    ? props.sizes\n        .split(',')\n        .filter((x) => x)\n        .join(',')\n    : Array.isArray(props.sizes)\n      ? props.sizes.filter((x) => x).join(',')\n      : undefined\n)\n\nconst computedDimentions = computed<{height: number | undefined; width: number | undefined}>(() => {\n  const width = Number.isNaN(widthNumber.value) ? undefined : widthNumber.value\n  const height = Number.isNaN(heightNumber.value) ? undefined : heightNumber.value\n  if (props.blank) {\n    if (width !== undefined && height === undefined) return {height: width, width}\n    if (width === undefined && height !== undefined) return {height, width: height}\n    if (width === undefined && height === undefined) return {height: 1, width: 1}\n  }\n  return {\n    width,\n    height,\n  }\n})\n\nconst computedBlankImgSrc = computed(() =>\n  makeBlankImgSrc(computedDimentions.value.width, computedDimentions.value.height, props.blankColor)\n)\n\nconst computedAlignment = computed(() => ({\n  'float-start': props.placement === 'start',\n  'float-end': props.placement === 'end',\n  'mx-auto': props.placement === 'center',\n}))\n\nconst computedClasses = computed(() => [\n  radiusElementClasses.value,\n  computedAlignment.value,\n  {\n    'img-thumbnail': props.thumbnail,\n    'img-fluid': props.fluid || props.fluidGrow,\n    'w-100': props.fluidGrow,\n    'd-block': props.block || props.placement === 'center',\n  },\n])\n\nconst makeBlankImgSrc = (width: number | undefined, height: number | undefined, color: string) =>\n  `data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`<svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${width} ${height}\" preserveAspectRatio=\"none\">\n    <rect width=\"100%\" height=\"100%\" style=\"fill:${color};\"></rect>\n    </svg>`)}`\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,UAAM,SAAS;AAuBT,UAAA,QAAQ,YAAY,QAAQ,MAAM;AAExC,UAAM,eAAe,YAAY,MAAM,MAAM,UAAU,GAAG;AAC1D,UAAM,cAAc,YAAY,MAAM,MAAM,SAAS,GAAG;AAElD,UAAA,uBAAuB,wBAAwB,OAAO;AAAA,MAC1D,SAAS,MAAM;AAAA,MACf,YAAY,MAAM;AAAA,MAClB,eAAe,MAAM;AAAA,MACrB,cAAc,MAAM;AAAA,MACpB,YAAY,MAAM;AAAA,IAAA,EAClB;AAEF,UAAM,iBAAiB;AAAA,MAAS,MAC9B,OAAO,MAAM,WAAW,WACpB,MAAM,OACH,MAAM,GAAG,EACT,OAAO,CAAC,MAAM,CAAC,EACf,KAAK,GAAG,IACX,MAAM,QAAQ,MAAM,MAAM,IACxB,MAAM,OAAO,OAAO,CAAC,MAAM,CAAC,EAAE,KAAK,GAAG,IACtC;AAAA,IACR;AAEA,UAAM,gBAAgB;AAAA,MAAS,MAC7B,OAAO,MAAM,UAAU,WACnB,MAAM,MACH,MAAM,GAAG,EACT,OAAO,CAAC,MAAM,CAAC,EACf,KAAK,GAAG,IACX,MAAM,QAAQ,MAAM,KAAK,IACvB,MAAM,MAAM,OAAO,CAAC,MAAM,CAAC,EAAE,KAAK,GAAG,IACrC;AAAA,IACR;AAEM,UAAA,qBAAqB,SAAkE,MAAM;AACjG,YAAM,QAAQ,OAAO,MAAM,YAAY,KAAK,IAAI,SAAY,YAAY;AACxE,YAAM,SAAS,OAAO,MAAM,aAAa,KAAK,IAAI,SAAY,aAAa;AAC3E,UAAI,MAAM,OAAO;AACX,YAAA,UAAU,UAAa,WAAW,eAAkB,EAAC,QAAQ,OAAO,MAAK;AACzE,YAAA,UAAU,UAAa,WAAW,eAAkB,EAAC,QAAQ,OAAO,OAAM;AAC1E,YAAA,UAAU,UAAa,WAAW,eAAkB,EAAC,QAAQ,GAAG,OAAO,EAAC;AAAA,MAAA;AAEvE,aAAA;AAAA,QACL;AAAA,QACA;AAAA,MACF;AAAA,IAAA,CACD;AAED,UAAM,sBAAsB;AAAA,MAAS,MACnC,gBAAgB,mBAAmB,MAAM,OAAO,mBAAmB,MAAM,QAAQ,MAAM,UAAU;AAAA,IACnG;AAEM,UAAA,oBAAoB,SAAS,OAAO;AAAA,MACxC,eAAe,MAAM,cAAc;AAAA,MACnC,aAAa,MAAM,cAAc;AAAA,MACjC,WAAW,MAAM,cAAc;AAAA,IAAA,EAC/B;AAEI,UAAA,kBAAkB,SAAS,MAAM;AAAA,MACrC,qBAAqB;AAAA,MACrB,kBAAkB;AAAA,MAClB;AAAA,QACE,iBAAiB,MAAM;AAAA,QACvB,aAAa,MAAM,SAAS,MAAM;AAAA,QAClC,SAAS,MAAM;AAAA,QACf,WAAW,MAAM,SAAS,MAAM,cAAc;AAAA,MAAA;AAAA,IAChD,CACD;AAED,UAAM,kBAAkB,CAAC,OAA2B,QAA4B,UAC9E,oCAAoC,mBAAmB,eAAe,KAAK,aAAa,MAAM,qDAAqD,KAAK,IAAI,MAAM;AAAA,mDACjH,KAAK;AAAA,WAC7C,CAAC;;;;;;;;;;;;;;"}